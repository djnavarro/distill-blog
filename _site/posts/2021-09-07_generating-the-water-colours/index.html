<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #20794d; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #20794d; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>

  <!--radix_placeholder_meta_tags-->
<title>Notes from a data witch: Generative art, jasmines, and the water colours series</title>

<meta property="description" itemprop="description" content="Neque porro quisquam est qui dolorem ipsum quia dolor sit amet, &#10;consectetur, adipisci velit"/>

<link rel="canonical" href="https://blog.djnavarro.net/generating-the-water-colours/"/>
<link rel="license" href="https://creativecommons.org/licenses/by/4.0/"/>

<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2021-09-07"/>
<meta property="article:created" itemprop="dateCreated" content="2021-09-07"/>
<meta name="article:author" content="Danielle Navarro"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="Notes from a data witch: Generative art, jasmines, and the water colours series"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="Neque porro quisquam est qui dolorem ipsum quia dolor sit amet, &#10;consectetur, adipisci velit"/>
<meta property="og:url" content="https://blog.djnavarro.net/generating-the-water-colours/"/>
<meta property="og:image" content="https://blog.djnavarro.net/posts/2021-09-07_generating-the-water-colours/jasmine-recollected.png"/>
<meta property="og:image:width" content="1248"/>
<meta property="og:image:height" content="768"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="Notes from a data witch"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary_large_image"/>
<meta property="twitter:title" content="Notes from a data witch: Generative art, jasmines, and the water colours series"/>
<meta property="twitter:description" content="Neque porro quisquam est qui dolorem ipsum quia dolor sit amet, &#10;consectetur, adipisci velit"/>
<meta property="twitter:url" content="https://blog.djnavarro.net/generating-the-water-colours/"/>
<meta property="twitter:image" content="https://blog.djnavarro.net/posts/2021-09-07_generating-the-water-colours/jasmine-recollected.png"/>
<meta property="twitter:image:width" content="1248"/>
<meta property="twitter:image:height" content="768"/>

<!--  https://scholar.google.com/intl/en/scholar/inclusion.html#indexing -->
<meta name="citation_title" content="Notes from a data witch: Generative art, jasmines, and the water colours series"/>
<meta name="citation_fulltext_html_url" content="https://blog.djnavarro.net/generating-the-water-colours"/>
<meta name="citation_fulltext_world_readable" content=""/>
<meta name="citation_online_date" content="2021/09/07"/>
<meta name="citation_publication_date" content="2021/09/07"/>
<meta name="citation_author" content="Danielle Navarro"/>
<meta name="citation_author_institution" content="UNSW Sydney"/>
<!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","params","author","date","preview","creative_commons","citation_url","repository_url","output","canonical_url"]}},"value":[{"type":"character","attributes":{},"value":["Generative art, jasmines, and the water colours series"]},{"type":"character","attributes":{},"value":["Neque porro quisquam est qui dolorem ipsum quia dolor sit amet, \nconsectetur, adipisci velit"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["slug","date"]}},"value":[{"type":"character","attributes":{},"value":["generating-the-water-colours"]},{"type":"character","attributes":{},"value":["2021-09-07"]}]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["first_name","last_name","url","affiliation","affiliation_url","orcid_id"]}},"value":[{"type":"character","attributes":{},"value":["Danielle"]},{"type":"character","attributes":{},"value":["Navarro"]},{"type":"character","attributes":{},"value":["https://djnavarro.net"]},{"type":"character","attributes":{},"value":["UNSW Sydney"]},{"type":"character","attributes":{},"value":["https://unsw.edu.au"]},{"type":"character","attributes":{},"value":["0000-0001-7648-6578"]}]}]},{"type":"character","attributes":{},"value":["2021-09-07"]},{"type":"character","attributes":{},"value":["jasmine-recollected.png"]},{"type":"character","attributes":{},"value":["CC BY"]},{"type":"character","attributes":{},"value":["https://blog.djnavarro.net/generating-the-water-colours"]},{"type":"character","attributes":{},"value":["https://github.com/djnavarro/distill-blog"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["toc","css","self_contained"]}},"value":[{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["strapless.css"]},{"type":"logical","attributes":{},"value":[false]}]}]},{"type":"character","attributes":{},"value":["https://blog.djnavarro.net/generating-the-water-colours/"]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["index_files/anchor-4.2.2/anchor.min.js","index_files/bowser-1.9.3/bowser.min.js","index_files/distill-2.2.21/template.v2.js","index_files/figure-html5/accumulated-noise-image-1.png","index_files/figure-html5/jasmine-cropped-image-1.png","index_files/figure-html5/jasmine-detailed-image-1.png","index_files/figure-html5/jasmine-halftone-image-1.png","index_files/figure-html5/jasmine-halftonesque-image-1.png","index_files/figure-html5/jasmine-raster-image-1.png","index_files/figure-html5/jasmine-raster-variant-image-1.png","index_files/figure-html5/jasmine-scatter-image-1.png","index_files/figure-html5/noise-stepped-data-2-1.png","index_files/figure-html5/noise-stepped-image-1.png","index_files/figure-html5/noisy-jasmine-image-1.png","index_files/figure-html5/plain-grid-1.png","index_files/header-attrs-2.10/header-attrs.js","index_files/jquery-1.11.3/jquery.min.js","index_files/popper-2.6.0/popper.min.js","index_files/tippy-6.2.7/tippy-bundle.umd.min.js","index_files/tippy-6.2.7/tippy-light-border.css","index_files/tippy-6.2.7/tippy.css","index_files/tippy-6.2.7/tippy.umd.min.js","index_files/webcomponents-2.0.0/webcomponents.js","jasmine-recollected.png","jasmine.jpg","renv.lock","strapless.css"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content="../.."/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      tolerance: 5,
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

/* adjust viewport for navbar height */
/* helps vertically center bootstrap (non-distill) content */
.min-vh-100 {
  min-height: calc(100vh - 100px) !important;
}

</style>

<script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
<link href="../../site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
<link href="../../site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
<script src="../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<script src="../../site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
<script src="../../site_libs/fuse-6.4.1/fuse.min.js"></script>

<script type="application/javascript">

function getMeta(metaName) {
  var metas = document.getElementsByTagName('meta');
  for (let i = 0; i < metas.length; i++) {
    if (metas[i].getAttribute('name') === metaName) {
      return metas[i].getAttribute('content');
    }
  }
  return '';
}

function offsetURL(url) {
  var offset = getMeta('distill:offset');
  return offset ? offset + '/' + url : url;
}

function createFuseIndex() {

  // create fuse index
  var options = {
    keys: [
      { name: 'title', weight: 20 },
      { name: 'categories', weight: 15 },
      { name: 'description', weight: 10 },
      { name: 'contents', weight: 5 },
    ],
    ignoreLocation: true,
    threshold: 0
  };
  var fuse = new window.Fuse([], options);

  // fetch the main search.json
  return fetch(offsetURL('search.json'))
    .then(function(response) {
      if (response.status == 200) {
        return response.json().then(function(json) {
          // index main articles
          json.articles.forEach(function(article) {
            fuse.add(article);
          });
          // download collections and index their articles
          return Promise.all(json.collections.map(function(collection) {
            return fetch(offsetURL(collection)).then(function(response) {
              if (response.status === 200) {
                return response.json().then(function(articles) {
                  articles.forEach(function(article) {
                    fuse.add(article);
                  });
                })
              } else {
                return Promise.reject(
                  new Error('Unexpected status from search index request: ' +
                            response.status)
                );
              }
            });
          })).then(function() {
            return fuse;
          });
        });

      } else {
        return Promise.reject(
          new Error('Unexpected status from search index request: ' +
                      response.status)
        );
      }
    });
}

window.document.addEventListener("DOMContentLoaded", function (event) {

  // get search element (bail if we don't have one)
  var searchEl = window.document.getElementById('distill-search');
  if (!searchEl)
    return;

  createFuseIndex()
    .then(function(fuse) {

      // make search box visible
      searchEl.classList.remove('hidden');

      // initialize autocomplete
      var options = {
        autoselect: true,
        hint: false,
        minLength: 2,
      };
      window.autocomplete(searchEl, options, [{
        source: function(query, callback) {
          const searchOptions = {
            isCaseSensitive: false,
            shouldSort: true,
            minMatchCharLength: 2,
            limit: 10,
          };
          var results = fuse.search(query, searchOptions);
          callback(results
            .map(function(result) { return result.item; })
          );
        },
        templates: {
          suggestion: function(suggestion) {
            var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
              ? `<img src="${offsetURL(suggestion.preview)}"</img>`
              : '';
            var html = `
              <div class="search-item">
                <h3>${suggestion.title}</h3>
                <div class="search-item-description">
                  ${suggestion.description || ''}
                </div>
                <div class="search-item-preview">
                  ${img}
                </div>
              </div>
            `;
            return html;
          }
        }
      }]).on('autocomplete:selected', function(event, suggestion) {
        window.location.href = offsetURL(suggestion.path);
      });
      // remove inline display style on autocompleter (we want to
      // manage responsive display via css)
      $('.algolia-autocomplete').css("display", "");
    })
    .catch(function(error) {
      console.log(error);
    });

});

</script>

<style type="text/css">

.nav-search {
  font-size: x-small;
}

/* Algolioa Autocomplete */

.algolia-autocomplete {
  display: inline-block;
  margin-left: 10px;
  vertical-align: sub;
  background-color: white;
  color: black;
  padding: 6px;
  padding-top: 8px;
  padding-bottom: 0;
  border-radius: 6px;
  border: 1px #0F2E3D solid;
  width: 180px;
}


@media screen and (max-width: 768px) {
  .distill-site-nav .algolia-autocomplete {
    display: none;
    visibility: hidden;
  }
  .distill-site-nav.responsive .algolia-autocomplete {
    display: inline-block;
    visibility: visible;
  }
  .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
    margin-left: 0;
    width: 400px;
    max-height: 400px;
  }
}

.algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
  width: 90%;
  outline: none;
  border: none;
}

.algolia-autocomplete .aa-hint {
  color: #999;
}
.algolia-autocomplete .aa-dropdown-menu {
  width: 550px;
  max-height: 70vh;
  overflow-x: visible;
  overflow-y: scroll;
  padding: 5px;
  margin-top: 3px;
  margin-left: -150px;
  background-color: #fff;
  border-radius: 5px;
  border: 1px solid #999;
  border-top: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
  cursor: pointer;
  padding: 5px 4px;
  border-bottom: 1px solid #eee;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
  border-bottom: none;
  margin-bottom: 2px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
  overflow: hidden;
  font-size: 0.8em;
  line-height: 1.4em;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
  font-size: 1rem;
  margin-block-start: 0;
  margin-block-end: 5px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
  display: inline-block;
  overflow: hidden;
  height: 2.8em;
  width: 80%;
  margin-right: 4%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
  display: inline-block;
  width: 15%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
  height: 3em;
  width: auto;
  display: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
  display: initial;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
  background-color: #eee;
}
.algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
  font-weight: bold;
  font-style: normal;
}

</style>


<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

d-byline .byline {
  grid-template-columns: 2fr 2fr;
}

d-byline .byline h3 {
  margin-block-start: 1.5em;
}

d-byline .byline .authors-affiliations h3 {
  margin-block-start: 0.5em;
}

.authors-affiliations .orcid-id {
  width: 16px;
  height:16px;
  margin-left: 4px;
  margin-right: 4px;
  vertical-align: middle;
  padding-bottom: 2px;
}

d-title .dt-tags {
  margin-top: 1em;
  grid-column: text;
}

.dt-tags .dt-tag {
  text-decoration: none;
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0em 0.4em;
  margin-right: 0.5em;
  margin-bottom: 0.4em;
  font-size: 70%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

d-article table.gt_table td,
d-article table.gt_table th {
  border-bottom: none;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

d-article {
  padding-top: 2.5rem;
  padding-bottom: 30px;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article h2 {
  margin: 1rem 0 1.5rem 0;
}

d-article h3 {
  margin-top: 1.5rem;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

/* Tweak code blocks */

d-article div.sourceCode code,
d-article pre code {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: auto;
}

d-article div.sourceCode {
  background-color: white;
}

d-article div.sourceCode pre {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

d-article pre {
  font-size: 12px;
  color: black;
  background: none;
  margin-top: 0;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

d-article pre a {
  border-bottom: none;
}

d-article pre a:hover {
  border-bottom: none;
  text-decoration: underline;
}

d-article details {
  grid-column: text;
  margin-bottom: 0.8em;
}

@media(min-width: 768px) {

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: visible !important;
}

d-article div.sourceCode pre {
  padding-left: 18px;
  font-size: 14px;
}

d-article pre {
  font-size: 14px;
}

}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for d-contents */

.d-contents {
  grid-column: text;
  color: rgba(0,0,0,0.8);
  font-size: 0.9em;
  padding-bottom: 1em;
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  margin-bottom: 1em;
  padding-left: 0.25em;
  justify-self: start;
}

@media(min-width: 1000px) {
  .d-contents.d-contents-float {
    height: 0;
    grid-column-start: 1;
    grid-column-end: 4;
    justify-self: center;
    padding-right: 3em;
    padding-left: 2em;
  }
}

.d-contents nav h3 {
  font-size: 18px;
  margin-top: 0;
  margin-bottom: 1em;
}

.d-contents li {
  list-style-type: none
}

.d-contents nav > ul {
  padding-left: 0;
}

.d-contents ul {
  padding-left: 1em
}

.d-contents nav ul li {
  margin-top: 0.6em;
  margin-bottom: 0.2em;
}

.d-contents nav a {
  font-size: 13px;
  border-bottom: none;
  text-decoration: none
  color: rgba(0, 0, 0, 0.8);
}

.d-contents nav a:hover {
  text-decoration: underline solid rgba(0, 0, 0, 0.6)
}

.d-contents nav > ul > li > a {
  font-weight: 600;
}

.d-contents nav > ul > li > ul {
  font-weight: inherit;
}

.d-contents nav > ul > li > ul > li {
  margin-top: 0.2em;
}


.d-contents nav ul {
  margin-top: 0;
  margin-bottom: 0.25em;
}

.d-article-with-toc h2:nth-child(2) {
  margin-top: 0;
}


/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure img {
  width: 100%;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}

/* Citations */

d-article .citation {
  color: inherit;
  cursor: inherit;
}

div.hanging-indent{
  margin-left: 1em; text-indent: -1em;
}

/* Citation hover box */

.tippy-box[data-theme~=light-border] {
  background-color: rgba(250, 250, 250, 0.95);
}

.tippy-content > p {
  margin-bottom: 0;
  padding: 2px;
}


/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Include appendix styles here so they can be overridden */

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

/* Include footnote styles here so they can be overridden */

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}



/* Anchor.js */

.anchorjs-link {
  /*transition: all .25s linear; */
  text-decoration: none;
  border-bottom: none;
}
*:hover > .anchorjs-link {
  margin-left: -1.125em !important;
  text-decoration: none;
  border-bottom: none;
}

/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


.sidebar-section.custom {
  font-size: 12px;
  line-height: 1.6em;
}

.custom p {
  margin-bottom: 0.5em;
}

/* Styles for listing layout (hide title) */
.layout-listing d-title, .layout-listing .d-title {
  display: none;
}

/* Styles for posts lists (not auto-injected) */


.posts-with-sidebar {
  padding-left: 45px;
  padding-right: 45px;
}

.posts-list .description h2,
.posts-list .description p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

.posts-list .description h2 {
  font-weight: 700;
  border-bottom: none;
  padding-bottom: 0;
}

.posts-list h2.post-tag {
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  padding-bottom: 12px;
}
.posts-list {
  margin-top: 60px;
  margin-bottom: 24px;
}

.posts-list .post-preview {
  text-decoration: none;
  overflow: hidden;
  display: block;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding: 24px 0;
}

.post-preview-last {
  border-bottom: none !important;
}

.posts-list .posts-list-caption {
  grid-column: screen;
  font-weight: 400;
}

.posts-list .post-preview h2 {
  margin: 0 0 6px 0;
  line-height: 1.2em;
  font-style: normal;
  font-size: 24px;
}

.posts-list .post-preview p {
  margin: 0 0 12px 0;
  line-height: 1.4em;
  font-size: 16px;
}

.posts-list .post-preview .thumbnail {
  box-sizing: border-box;
  margin-bottom: 24px;
  position: relative;
  max-width: 500px;
}
.posts-list .post-preview img {
  width: 100%;
  display: block;
}

.posts-list .metadata {
  font-size: 12px;
  line-height: 1.4em;
  margin-bottom: 18px;
}

.posts-list .metadata > * {
  display: inline-block;
}

.posts-list .metadata .publishedDate {
  margin-right: 2em;
}

.posts-list .metadata .dt-authors {
  display: block;
  margin-top: 0.3em;
  margin-right: 2em;
}

.posts-list .dt-tags {
  display: block;
  line-height: 1em;
}

.posts-list .dt-tags .dt-tag {
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0.3em 0.4em;
  margin-right: 0.2em;
  margin-bottom: 0.4em;
  font-size: 60%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

.posts-list img {
  opacity: 1;
}

.posts-list img[data-src] {
  opacity: 0;
}

.posts-more {
  clear: both;
}


.posts-sidebar {
  font-size: 16px;
}

.posts-sidebar h3 {
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 0.5em;
  font-weight: 400;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 30px;
}

.categories ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.categories li {
  color: rgba(0, 0, 0, 0.8);
  margin-bottom: 0;
}

.categories li>a {
  border-bottom: none;
}

.categories li>a:hover {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
}

.categories .active {
  font-weight: 600;
}

.categories .category-count {
  color: rgba(0, 0, 0, 0.4);
}


@media(min-width: 768px) {
  .posts-list .post-preview h2 {
    font-size: 26px;
  }
  .posts-list .post-preview .thumbnail {
    float: right;
    width: 30%;
    margin-bottom: 0;
  }
  .posts-list .post-preview .description {
    float: left;
    width: 45%;
  }
  .posts-list .post-preview .metadata {
    float: left;
    width: 20%;
    margin-top: 8px;
  }
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.5em;
    font-size: 16px;
  }
  .posts-with-sidebar .posts-list {
    float: left;
    width: 75%;
  }
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 20%;
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

.downlevel .posts-list .post-preview {
  color: inherit;
}



</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // add anchors
  if (window.anchors) {
    window.anchors.options.placement = 'left';
    window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
  }


  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  // move refs into #references-listing
  $('#references-listing').replaceWith($('#refs'));

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-contents a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('details, div.sourceCode, pre, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // remove code block used to force  highlighting css
  $('.distill-force-highlighting-css').parent().remove();

  // remove empty line numbers inserted by pandoc when using a
  // custom syntax highlighting theme
  $('code.sourceCode a:empty').remove();

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // article with toc class
    $('.d-contents').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // add orcid ids
    $('.authors-affiliations').find('.author').each(function(i, el) {
      var orcid_id = front_matter.authors[i].orcidID;
      if (orcid_id) {
        var a = $('<a></a>');
        a.attr('href', 'https://orcid.org/' + orcid_id);
        var img = $('<img></img>');
        img.addClass('orcid-id');
        img.attr('alt', 'ORCID ID');
        img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
        a.append(img);
        $(this).append(a);
      }
    });

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // remove d-appendix and d-footnote-list local styles
    $('d-appendix > style:first-child').remove();
    $('d-footnote-list > style:first-child').remove();

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // hoverable references
    $('span.citation[data-cites]').each(function() {
      var refHtml = $('#ref-' + $(this).attr('data-cites')).html();
      window.tippy(this, {
        allowHTML: true,
        content: refHtml,
        maxWidth: 500,
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start'
      });
    });

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-contents').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<style type="text/css">
/* base variables */

/* Edit the CSS properties in this file to create a custom
   Distill theme. Only edit values in the right column
   for each row; values shown are the CSS defaults.
   To return any property to the default,
   you may set its value to: unset
   All rows must end with a semi-colon.                      */

/* Optional: embed custom fonts here with `@import`          */
/* This must remain at the top of this file.                 */



html {
  /*-- Main font sizes --*/
  --title-size:      50px;
  --body-size:       1.06rem;
  --code-size:       14px;
  --aside-size:      12px;
  --fig-cap-size:    13px;
  /*-- Main font colors --*/
  --title-color:     #000000;
  --header-color:    rgba(0, 0, 0, 0.8);
  --body-color:      rgba(0, 0, 0, 0.8);
  --aside-color:     rgba(0, 0, 0, 0.6);
  --fig-cap-color:   rgba(0, 0, 0, 0.6);
  /*-- Specify custom fonts ~~~ must be imported above   --*/
  --heading-font:    sans-serif;
  --mono-font:       monospace;
  --body-font:       sans-serif;
  --navbar-font:     sans-serif;  /* websites + blogs only */
}

/*-- ARTICLE METADATA --*/
d-byline {
  --heading-size:    0.6rem;
  --heading-color:   rgba(0, 0, 0, 0.5);
  --body-size:       0.8rem;
  --body-color:      rgba(0, 0, 0, 0.8);
}

/*-- ARTICLE TABLE OF CONTENTS --*/
.d-contents {
  --heading-size:    18px;
  --contents-size:   13px;
}

/*-- ARTICLE APPENDIX --*/
d-appendix {
  --heading-size:    15px;
  --heading-color:   rgba(0, 0, 0, 0.65);
  --text-size:       0.8em;
  --text-color:      rgba(0, 0, 0, 0.5);
}

/*-- WEBSITE HEADER + FOOTER --*/
/* These properties only apply to Distill sites and blogs  */

.distill-site-header {
  --title-size:       18px;
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #0F2E3D;
}

.distill-site-footer {
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #0F2E3D;
}

/*-- Additional custom styles --*/
/* Add any additional CSS rules below                      */
</style>
<style type="text/css">
/* base variables */

/* Edit the CSS properties in this file to create a custom
   Distill theme. Only edit values in the right column
   for each row; values shown are the CSS defaults.
   To return any property to the default,
   you may set its value to: unset
   All rows must end with a semi-colon.                      */

/* Optional: embed custom fonts here with `@import`          */
/* This must remain at the top of this file.                 */
@import url('https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:ital,wght@0,400;0,700;1,400;1,700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500;600;700&display=swap');

html {
  /*-- Main font sizes --*/
  --title-size:      40px;
  --body-size:       16px;
  --code-size:       16px;
  --aside-size:      14px;
  --fig-cap-size:    14px;

  /*-- Main font colors --*/
  --title-color:     #000000;
  --header-color:    rgba(0, 0, 0, 0.8);
  --body-color:      rgba(0, 0, 0, 0.8);
  --aside-color:     rgba(0, 0, 0, 0.6);
  --fig-cap-color:   rgba(0, 0, 0, 0.6);

  /*-- Specify custom fonts ~~~ must be imported above   --*/
  --heading-font:    'Atkinson Hyperlegible', sans-serif;
  --mono-font:       'Fira Code', monospace;
  --body-font:       'Atkinson Hyperlegible', sans-serif;
  --navbar-font:     'Atkinson Hyperlegible', sans-serif;  /* websites + blogs only */
}

/*-- ARTICLE METADATA --*/
d-byline {
  --heading-size:    0.6rem;
  --heading-color:   rgba(0, 0, 0, 0.5);
  --body-size:       0.8rem;
  --body-color:      rgba(0, 0, 0, 0.8);
}

/*-- ARTICLE TABLE OF CONTENTS --*/
.d-contents {
  --heading-size:    18px;
  --contents-size:   16px;
}

/*-- ARTICLE APPENDIX --*/
d-appendix {
  --heading-size:    15px;
  --heading-color:   rgba(0, 0, 0, 0.65);
  --text-size:       0.8em;
  --text-color:      rgba(0, 0, 0, 0.5);
}

/*-- WEBSITE HEADER + FOOTER --*/
/* These properties only apply to Distill sites and blogs  */

.distill-site-header {
  --title-size:       18px;
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       black; /* #0F2E3D; */
}

.distill-site-footer {
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       black; /* #0F2E3D; */
}

/*-- Additional custom styles --*/
/* Add any additional CSS rules below                      */


/*-- ARTICLE CODE BLOCK --*/
d-article pre {
  background-color: #eeeeee;
  padding: 10px;
  overflow-x: auto !important;
}

d-article div.sourceCode pre{
  overflow-x: auto !important;
}


/*-- INLINE CODE -- */
d-article p code {
  font-size: 14px;
  color: #000000;
  background-color: #eeeeee;
  padding: 3px;
}

/* -- REMOVE THUMBNAIL IMAGES -- */
/*
.posts-list .post-preview .description{
  width: 75%;
}
.posts-list .post-preview .thumbnail {
  width: 0;
  display: none;
}
.posts-list .post-preview img {
  display: none;
}
*/


/* -- ASIDE TAGS -- */
aside {
  padding-block-end: 1rem;
}</style>
<style type="text/css">
/* base style */

/* FONT FAMILIES */

:root {
  --heading-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  --mono-default: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  --body-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

body,
.posts-list .post-preview p,
.posts-list .description p {
  font-family: var(--body-font), var(--body-default);
}

h1, h2, h3, h4, h5, h6,
.posts-list .post-preview h2,
.posts-list .description h2 {
  font-family: var(--heading-font), var(--heading-default);
}

d-article div.sourceCode code,
d-article pre code {
  font-family: var(--mono-font), var(--mono-default);
}


/*-- TITLE --*/
d-title h1,
.posts-list > h1 {
  color: var(--title-color, black);
}

d-title h1 {
  font-size: var(--title-size, 50px);
}

/*-- HEADERS --*/
d-article h1,
d-article h2,
d-article h3,
d-article h4,
d-article h5,
d-article h6 {
  color: var(--header-color, rgba(0, 0, 0, 0.8));
}

/*-- BODY --*/
d-article > p,  /* only text inside of <p> tags */
d-article > ul, /* lists */
d-article > ol {
  color: var(--body-color, rgba(0, 0, 0, 0.8));
  font-size: var(--body-size, 1.06rem);
}


/*-- CODE --*/
d-article div.sourceCode code,
d-article pre code {
  font-size: var(--code-size, 14px);
}

/*-- ASIDE --*/
d-article aside {
  font-size: var(--aside-size, 12px);
  color: var(--aside-color, rgba(0, 0, 0, 0.6));
}

/*-- FIGURE CAPTIONS --*/
figure .caption,
figure figcaption,
.figure .caption {
  font-size: var(--fig-cap-size, 13px);
  color: var(--fig-cap-color, rgba(0, 0, 0, 0.6));
}

/*-- METADATA --*/
d-byline h3 {
  font-size: var(--heading-size, 0.6rem);
  color: var(--heading-color, rgba(0, 0, 0, 0.5));
}

d-byline {
  font-size: var(--body-size, 0.8rem);
  color: var(--body-color, rgba(0, 0, 0, 0.8));
}

d-byline a,
d-article d-byline a {
  color: var(--body-color, rgba(0, 0, 0, 0.8));
}

/*-- TABLE OF CONTENTS --*/
.d-contents nav h3 {
  font-size: var(--heading-size, 18px);
}

.d-contents nav a {
  font-size: var(--contents-size, 13px);
}

/*-- APPENDIX --*/
d-appendix h3 {
  font-size: var(--heading-size, 15px);
  color: var(--heading-color, rgba(0, 0, 0, 0.65));
}

d-appendix {
  font-size: var(--text-size, 0.8em);
  color: var(--text-color, rgba(0, 0, 0, 0.5));
}

d-appendix d-footnote-list a.footnote-backlink {
  color: var(--text-color, rgba(0, 0, 0, 0.5));
}

/*-- WEBSITE HEADER + FOOTER --*/
.distill-site-header .title {
  font-size: var(--title-size, 18px);
  font-family: var(--navbar-font), var(--heading-default);
}

.distill-site-header a,
.nav-dropdown .nav-dropbtn {
  font-family: var(--navbar-font), var(--heading-default);
}

.nav-dropdown .nav-dropbtn {
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  font-size: var(--text-size, 15px);
}

.distill-site-header a:hover,
.nav-dropdown:hover .nav-dropbtn {
  color: var(--hover-color, white);
}

.distill-site-header {
  font-size: var(--text-size, 15px);
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  background-color: var(--bkgd-color, #0F2E3D);
}

.distill-site-footer {
  font-size: var(--text-size, 15px);
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  background-color: var(--bkgd-color, #0F2E3D);
}

.distill-site-footer a:hover {
  color: var(--hover-color, white);
}</style>
<!--/radix_placeholder_distill-->
  <script src="../../site_libs/header-attrs-2.10/header-attrs.js"></script>
  <script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
  <script src="../../site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="../../site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="../../site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="../../site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="../../site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="../../site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="../../site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="../../site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<!-- plausible -->
<script async defer data-domain="blog.djnavarro.net" src="https://plausible.io/js/plausible.js"></script>

<!--/radix_placeholder_site_in_header-->

  <link rel="stylesheet" href="strapless.css" type="text/css"/>

</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Generative art, jasmines, and the water colours series","description":"Neque porro quisquam est qui dolorem ipsum quia dolor sit amet, \nconsectetur, adipisci velit","authors":[{"author":"Danielle Navarro","authorURL":"https://djnavarro.net","affiliation":"UNSW Sydney","affiliationURL":"https://unsw.edu.au","orcidID":"0000-0001-7648-6578"}],"publishedDate":"2021-09-07T00:00:00.000+10:00","citationText":"Navarro, 2021"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a class="logo" href="https://djnavarro.net">
<img src="../../image/logo-profile.png" alt="Logo"/>
</a>
<a href="../../index.html" class="title">Notes from a data witch</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="../../about.html">
<i class="fa fa-info" aria-hidden="true"></i>
</a>
<a href="../../index.xml">
<i class="fa fa-rss" aria-hidden="true"></i>
</a>
<a href="https://github.com/djnavarro/distill-blog">
<i class="fa fa-github" aria-hidden="true"></i>
</a>
<a href="https://twitter.com/djnavarro">
<i class="fa fa-twitter" aria-hidden="true"></i>
</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Generative art, jasmines, and the water colours series</h1>
<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->
<p><p>Neque porro quisquam est qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit</p></p>
</div>

<div class="d-byline">
  
  true
  
<br/>2021-09-07
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#prelude">Prelude</a></li>
<li><a href="#the-water-colours-repository">The water colours repository</a>
<ul>
<li><a href="#why-use-version-control-here">Why use version control here?</a></li>
<li><a href="#the-manifest-file">The manifest file</a></li>
<li><a href="#previewing-the-artwork">Previewing the artwork</a></li>
</ul></li>
<li><a href="#dependencies">Dependencies</a></li>
<li><a href="#art-from-image-processing">Art from image processing</a>
<ul>
<li><a href="#finding-the-image-file">Finding the image file</a></li>
<li><a href="#importing-the-image">Importing the image</a></li>
<li><a href="#converting-the-image-to-data">Converting the image to data</a></li>
<li><a href="#art-from-data-visualisation">Art from data visualisation</a></li>
<li><a href="#extracting-the-colour-channels">Extracting the colour channels</a></li>
<li><a href="#art-from-channel-manipulation">Art from channel manipulation</a></li>
</ul></li>
<li><a href="#intermission">Intermission</a></li>
<li><a href="#art-from-noise-generators">Art from noise generators</a>
<ul>
<li><a href="#multidimensional-noise-generation">Multidimensional noise generation</a></li>
<li><a href="#art-from-the-noise">Art from the noise</a></li>
<li><a href="#accumulating-art-with-purrr">Accumulating art with purrr</a></li>
</ul></li>
<li><a href="#assembling-the-parts">Assembling the parts</a>
<ul>
<li><a href="#adding-noise-to-jasmines-coordinates">Adding noise to jasmines coordinates</a></li>
<li><a href="#joining-the-noise-with-jasmine-colours">Joining the noise with jasmine colours</a></li>
<li><a href="#a-higher-resolution-example">A higher resolution example</a></li>
</ul></li>
<li><a href="#epilogue">Epilogue</a></li>
</ul>
</nav>
</div>
<!----

yaml checklist:
- set the preview image
- write title and description

renv checklist:
- initialise the _renv folder with refinery::renv_new(long_slug)
- populate the lockfile with refinery::renv_snapshot(long_slug)
- update the _renv folder from snapshot with refinery::refresh(long_slug)

setup, appendices, and redirects should "just work" (ish)

---->
<!--------------- setup ----------------->
<!--------------- post ----------------->
<blockquote>
<p>I find it so amazing when people tell me that electronic music has no soul. You cant blame the computer. If theres no soul in the music, its because nobody put it there (<a href="https://www.azquotes.com/quote/564301">Bjrk</a>, via <a href="https://twitter.com/TimdeSousa/status/1432898952907554822">Tim de Sousa</a>)</p>
</blockquote>
<h2 id="prelude">Prelude</h2>
<p>In recent weeks Ive been posting generative art from the <a href="https://art.djnavarro.net/gallery/water-colours/">Water Colours</a> series on twitter. The series has been popular, prompting requests that I sell prints, mint NFTs, or write a tutorial showing how they are made. For personal reasons I didnt want to commercialise this series. Instead, I chose to make the pieces freely available under a CC0 public domain licence and asked people to donate to a <a href="https://au.gofundme.com/f/data-science-art-to-support-a-womens-refuge">gofundme</a> I set up for a charitable organisation I care about (the <a href="https://www.lousplace.com.au/">Lous Place</a> womens refuge here in Sydney). Im not going to discuss the personal story behind this series, but it does matter. As Ive mentioned <a href="/posts/2021-07-08_generative-art-in-r/">previously</a>, the art I make is inherently tied to moods. It is emotional in nature. In hindsight it is easy enough to describe how the system is implemented but this perspective is misleading. Although a clean and unemotional description of the code is useful for explanatory purposes, the actual <em>process</em> of creating the system is deeply tied to my life, my history, and my subjective experience. Those details are inextricably bound to the system. A friend described it better than I ever could:</p>
<blockquote>
<p>The computer doesnt make this art any more than a camera makes a photograph; art is always intimate (<a href="https://twitter.com/justanotheramy/status/1432916731794579460">Amy Patterson</a>)</p>
</blockquote>
<p>In this post Ill describe the mechanistic processes involved in creating these pieces, but this is woefully inadequate as a description of the artistic process as a whole. The optical mechanics of a camera do not circumscribe the work of a skilled photographer. So it goes with generative art. The code describes the mechanics; it does not describe the art. There is a deeply personal story underneath these pieces (one that I wont tell here), and I would no more mint an NFT from that story than I would sell a piece of my soul to a collector.</p>
<h2 id="the-water-colours-repository">The water colours repository</h2>
<h3 id="why-use-version-control-here">Why use version control here?</h3>
<p>When I started making generative art I didnt think much about archiving my art or keeping it organised. I liked making pretty things, and that was as far as my thought process went. I didnt place the code under version control, and I stored everything in my Dropbox folder. Theres nothing wrong with that: some things dont belong on GitHub. During the development phase of any art project thats still what I do, and Im perfectly happy with it.</p>
<p>Things become a little trickier when you want to share the art. My <a href="https://art.djnavarro.net">art website</a> is hosted on GitHub pages, and so my initial approach was to keep the art in the website repository. <em>Huuuuge mistake.</em> Sometimes the image files can be quite large and sometimes a series contains a large number of images. By the time Id reached 40+ series, Hugo took a very long time to build the site (several minutes), and GitHub took even longer to deploy it (over half an hour).</p>
<p>Eventually I decided it made more sense to have one repository per series. Each one uses the series- prefix to remind me its an art repo. I dont use these repositories during development: they exist solely to snapshot the release. For example, the <a href="https://github.com/djnavarro/series-water-colours">series-water-colours</a> repository isnt going to be updated regularly, its really just an archive combined with a docs folder that is used to host a minimal GitHub Pages site that makes the images public. Its convenient for my purposes because my art website doesnt have to host any of the images: all it does is hotlink to the images that are exposed via the series repo.</p>
<p>It may seem surprising that Ive used GitHub for this. Image files arent exactly well suited to version control, but its not like theyre going to be updated. Plus, there are a lot of advantages. I can explicitly include licencing information in the repository, I can release source code (when I want to), and I can include a readme file for anyone who wants to use it.</p>
<h3 id="the-manifest-file">The manifest file</h3>
<p>One nice feature of doing things this way is that it has encouraged me to include a <a href="%22https://djnavarro.net/series-water-colours/manifest.csv%22">manifest file</a>, a plain csv file with one row per image, and one column for each piece of metadata I want to retain about the images. Again, it seems like overkill, but Im starting to realise that if I dont have a system Ill forget things like what the piece is called or when I made it.</p>
<div class="layout-chunk" data-layout="l-body">

</div>
<p>I can use <code>readr::read_csv()</code> to download the manifest and do a little data wrangling to organise it into a format that is handy to me right now:</p>
<aside>
The data wrangling isnt shown, but it is in the <a href="https://github.com/djnavarro/distill-blog/tree/master/_posts/2021-09-07_generating-the-water-colours">source code</a>
</aside>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>manifest</span>
</code></pre>
</div>
<pre><code># A tibble: 20  9
   series      sys_id img_id short_name  format long_name   date      
   &lt;chr&gt;       &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;       &lt;chr&gt;  &lt;chr&gt;       &lt;date&gt;    
 1 watercolour sys02  img34  teacup-oce jpg    Ocean in a 2021-07-31
 2 watercolour sys02  img31  incursions  jpg    Incursions  2021-08-14
 3 watercolour sys02  img32  percolate   jpg    Percolate   2021-08-21
 4 watercolour sys02  img37  gentle-des jpg    Gentle Des 2021-08-21
 5 watercolour sys02  img41  stormy-seas jpg    Stormy Seas 2021-08-22
 6 watercolour sys02  img42  turmeric    jpg    Turmeric A 2021-08-24
 7 watercolour sys02  img43  torn-and-f jpg    Torn and F 2021-08-24
 8 watercolour sys02  img47  inferno     jpg    Seventh Ci 2021-08-27
 9 watercolour sys02  img48  storm-cell  jpg    Storm Cell 2021-08-27
10 watercolour sys02  img49  tonal-earth jpg    Tonal Earth 2021-08-29
11 watercolour sys02  img50  cold-front  jpg    Cold Front  2021-08-29
12 watercolour sys02  img51  kintsugi-d jpg    Kintsugi D 2021-08-29
13 watercolour sys02  img53  departure   jpg    Departure   2021-08-29
14 watercolour sys02  img54  echo        jpg    Echo        2021-08-30
15 watercolour sys02  img57  portal      jpg    Portal      2021-08-31
16 watercolour sys02  img60  salt-stone jpg    Gods of Sa 2021-08-31
17 watercolour sys02  img61  amanecer-d jpg    El ltimo  2021-09-01
18 watercolour sys02  img65  plume       jpg    Plume       2021-09-02
19 watercolour sys02  img67  woodland-s jpg    Woodland S 2021-09-02
20 watercolour sys02  img68  below-the- jpg    Below the  2021-09-03
#  with 2 more variables: path_2000 &lt;chr&gt;, path_500 &lt;chr&gt;</code></pre>
</div>
<h3 id="previewing-the-artwork">Previewing the artwork</h3>
<p>More to the point, the <code>manifest</code> data frame is nicely suited for use with the <a href="https://bs4cards.djnavarro.net/">bs4cards</a> package, so I can display some of the pieces in a neat and tidy thumbnail grid. Here are the first eight pieces from the series, arranged by date of creation:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>manifest</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>8</span>, <span class='op'>]</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>bs4cards</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/bs4cards/man/cards.html'>cards</a></span><span class='op'>(</span>
    image <span class='op'>=</span> <span class='va'>path_500</span>,
    link <span class='op'>=</span> <span class='va'>path_2000</span>,
    title <span class='op'>=</span> <span class='va'>long_name</span>,
    spacing <span class='op'>=</span> <span class='fl'>3</span>,
    width <span class='op'>=</span> <span class='fl'>2</span>
  <span class='op'>)</span>  
</code></pre>
</div>
<div>
<div class="row p-0 row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4" style="margin-left: -.4rem; margin-right: -.4rem; margin-top: 1rem; margin-bottom: 1rem; ">
<div class="card bg-transparent m-0 border-0 collapse.show bs4cards-blahblahblah bs4cards-NA" style="padding: .4rem ; border-width: 0; border-radius: .6rem .6rem .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img34_teacup-ocean.jpg">
<img src="https://djnavarro.net/series-water-colours/500/watercolour_sys02_img34_teacup-ocean.jpg" class="card-img-top" style="border-style:solid; border-color:#808080FF; border-width:1px 1px 0 1px; border-radius: .6rem .6rem 0 0 ;"/>
</a>
<div class="card-body justify-content-end m-0 p-0" style="visibility: visible; background-color: #FFFFFFAA; border-style:solid; border-color:#808080FF; border-width:1px; border-radius: 0 0 .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img34_teacup-ocean.jpg">
<h5 class="card-title my-auto px-3 pt-3 pb-3">Ocean in a Teacup</h5>
</a>
</div>
</div>
<div class="card bg-transparent m-0 border-0 collapse.show bs4cards-blahblahblah bs4cards-NA" style="padding: .4rem ; border-width: 0; border-radius: .6rem .6rem .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img31_incursions.jpg">
<img src="https://djnavarro.net/series-water-colours/500/watercolour_sys02_img31_incursions.jpg" class="card-img-top" style="border-style:solid; border-color:#808080FF; border-width:1px 1px 0 1px; border-radius: .6rem .6rem 0 0 ;"/>
</a>
<div class="card-body justify-content-end m-0 p-0" style="visibility: visible; background-color: #FFFFFFAA; border-style:solid; border-color:#808080FF; border-width:1px; border-radius: 0 0 .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img31_incursions.jpg">
<h5 class="card-title my-auto px-3 pt-3 pb-3">Incursions</h5>
</a>
</div>
</div>
<div class="card bg-transparent m-0 border-0 collapse.show bs4cards-blahblahblah bs4cards-NA" style="padding: .4rem ; border-width: 0; border-radius: .6rem .6rem .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img32_percolate.jpg">
<img src="https://djnavarro.net/series-water-colours/500/watercolour_sys02_img32_percolate.jpg" class="card-img-top" style="border-style:solid; border-color:#808080FF; border-width:1px 1px 0 1px; border-radius: .6rem .6rem 0 0 ;"/>
</a>
<div class="card-body justify-content-end m-0 p-0" style="visibility: visible; background-color: #FFFFFFAA; border-style:solid; border-color:#808080FF; border-width:1px; border-radius: 0 0 .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img32_percolate.jpg">
<h5 class="card-title my-auto px-3 pt-3 pb-3">Percolate</h5>
</a>
</div>
</div>
<div class="card bg-transparent m-0 border-0 collapse.show bs4cards-blahblahblah bs4cards-NA" style="padding: .4rem ; border-width: 0; border-radius: .6rem .6rem .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img37_gentle-descent.jpg">
<img src="https://djnavarro.net/series-water-colours/500/watercolour_sys02_img37_gentle-descent.jpg" class="card-img-top" style="border-style:solid; border-color:#808080FF; border-width:1px 1px 0 1px; border-radius: .6rem .6rem 0 0 ;"/>
</a>
<div class="card-body justify-content-end m-0 p-0" style="visibility: visible; background-color: #FFFFFFAA; border-style:solid; border-color:#808080FF; border-width:1px; border-radius: 0 0 .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img37_gentle-descent.jpg">
<h5 class="card-title my-auto px-3 pt-3 pb-3">Gentle Descent</h5>
</a>
</div>
</div>
<div class="card bg-transparent m-0 border-0 collapse.show bs4cards-blahblahblah bs4cards-NA" style="padding: .4rem ; border-width: 0; border-radius: .6rem .6rem .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img41_stormy-seas.jpg">
<img src="https://djnavarro.net/series-water-colours/500/watercolour_sys02_img41_stormy-seas.jpg" class="card-img-top" style="border-style:solid; border-color:#808080FF; border-width:1px 1px 0 1px; border-radius: .6rem .6rem 0 0 ;"/>
</a>
<div class="card-body justify-content-end m-0 p-0" style="visibility: visible; background-color: #FFFFFFAA; border-style:solid; border-color:#808080FF; border-width:1px; border-radius: 0 0 .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img41_stormy-seas.jpg">
<h5 class="card-title my-auto px-3 pt-3 pb-3">Stormy Seas</h5>
</a>
</div>
</div>
<div class="card bg-transparent m-0 border-0 collapse.show bs4cards-blahblahblah bs4cards-NA" style="padding: .4rem ; border-width: 0; border-radius: .6rem .6rem .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img42_turmeric.jpg">
<img src="https://djnavarro.net/series-water-colours/500/watercolour_sys02_img42_turmeric.jpg" class="card-img-top" style="border-style:solid; border-color:#808080FF; border-width:1px 1px 0 1px; border-radius: .6rem .6rem 0 0 ;"/>
</a>
<div class="card-body justify-content-end m-0 p-0" style="visibility: visible; background-color: #FFFFFFAA; border-style:solid; border-color:#808080FF; border-width:1px; border-radius: 0 0 .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img42_turmeric.jpg">
<h5 class="card-title my-auto px-3 pt-3 pb-3">Turmeric Against Grey Tuesday</h5>
</a>
</div>
</div>
<div class="card bg-transparent m-0 border-0 collapse.show bs4cards-blahblahblah bs4cards-NA" style="padding: .4rem ; border-width: 0; border-radius: .6rem .6rem .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img43_torn-and-frayed.jpg">
<img src="https://djnavarro.net/series-water-colours/500/watercolour_sys02_img43_torn-and-frayed.jpg" class="card-img-top" style="border-style:solid; border-color:#808080FF; border-width:1px 1px 0 1px; border-radius: .6rem .6rem 0 0 ;"/>
</a>
<div class="card-body justify-content-end m-0 p-0" style="visibility: visible; background-color: #FFFFFFAA; border-style:solid; border-color:#808080FF; border-width:1px; border-radius: 0 0 .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img43_torn-and-frayed.jpg">
<h5 class="card-title my-auto px-3 pt-3 pb-3">Torn and Frayed</h5>
</a>
</div>
</div>
<div class="card bg-transparent m-0 border-0 collapse.show bs4cards-blahblahblah bs4cards-NA" style="padding: .4rem ; border-width: 0; border-radius: .6rem .6rem .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img47_inferno.jpg">
<img src="https://djnavarro.net/series-water-colours/500/watercolour_sys02_img47_inferno.jpg" class="card-img-top" style="border-style:solid; border-color:#808080FF; border-width:1px 1px 0 1px; border-radius: .6rem .6rem 0 0 ;"/>
</a>
<div class="card-body justify-content-end m-0 p-0" style="visibility: visible; background-color: #FFFFFFAA; border-style:solid; border-color:#808080FF; border-width:1px; border-radius: 0 0 .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img47_inferno.jpg">
<h5 class="card-title my-auto px-3 pt-3 pb-3">Seventh Circle</h5>
</a>
</div>
</div>
</div>
</div>
</div>
<p>Each thumbnail image links to a medium resolution (2000 x 2000 pixels) jpg version of the corresponding piece, if youd like to see the images in a little more detail.</p>
<h2 id="dependencies">Dependencies</h2>
<p>In the remainder of this post Ill walk you through the process of creating pieces in the style of the water colours series. If you really want to, you can take a look at the <a href="https://github.com/djnavarro/series-water-colours/blob/master/source/watercolours_02.R">actual source</a>, but it may not be very helpful: the code is little opaque, poorly structured, and delegates a lot of the work to the <a href="https://github.com/cmarcum/halftoner">halftoner</a> and <a href="https://jasmines.djnavarro.net/">jasmines</a> packages, neither of which is on CRAN. To make it a little easier on you, Ill build a new system in this post that adopts the same core ideas.</p>
<p>In this post Ill assume youre already familiar with data wrangling and visualisation with tidyverse tools. This is the subset of <a href="https://www.tidyverse.org/">tidyverse</a> packages that I have attached, and the code that follows relies on all these in some fashion:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://magrittr.tidyverse.org'>magrittr</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://readr.tidyverse.org'>readr</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://tidyr.tidyverse.org'>tidyr</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://tibble.tidyverse.org/'>tibble</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://stringr.tidyverse.org'>stringr</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://ggplot2.tidyverse.org'>ggplot2</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://purrr.tidyverse.org'>purrr</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://dplyr.tidyverse.org'>dplyr</a></span><span class='op'>)</span>
</code></pre>
</div>
</div>
<aside>
For more information about the R environment see the <a href="https://github.com/djnavarro/distill-blog/tree/master/_posts/2021-09-07_generating-the-water-colours/renv.lock">lockfile</a> for with this post. Its a story for another post, but for reproducibility purposes I have a separate <a href="https://rstudio.github.io/renv/">renv configuration</a> for every post
</aside>
<p>In addition to tidyverse and base R functions, Ill use a few other packages as well. The <a href="https://docs.ropensci.org/magick/">magick</a>, <a href="https://github.com/rspatial/raster/">raster</a>, <a href="https://rprojroot.r-lib.org/">rprojroot</a>, <a href="https://fs.r-lib.org/">fs</a>, and <a href="https://ambient.data-imaginist.com/">ambient</a> packages are all used in making the art. Because functions from those packages may not be as familiar to everyone, Ill namespace the calls to them in the same way I did with <code>bs4cards::cards()</code> previously. Hopefully that will make it easier to see which functions belong to one of those packages.</p>
<h2 id="art-from-image-processing">Art from image processing</h2>
<h3 id="finding-the-image-file">Finding the image file</h3>
<p>As in life, the place to start is knowing where you are.</p>
<p>This post is part of my blog, and Ill need to make use of an image file called <code>"jasmine.jpg"</code> stored alongside my R markdown. First, I can use <code>rprojroot::find_root()</code> to find out where my blog is stored on my laptop. Ill do that by searching for a <code>"_site.yml"</code> file:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>blog</span> <span class='op'>&lt;-</span> <span class='fu'>rprojroot</span><span class='fu'>::</span><span class='fu'><a href='https://rprojroot.r-lib.org//reference/find_root.html'>find_root</a></span><span class='op'>(</span><span class='st'>"_site.yml"</span><span class='op'>)</span>
<span class='va'>blog</span>
</code></pre>
</div>
<pre><code>[1] &quot;/home/danielle/GitHub/sites/distill-blog&quot;</code></pre>
</div>
<p>I suspect that most people reading this would be more familiar with the <a href="https://here.r-lib.org/">here</a> package that provides a simplified interface to rprojroot and will automatically detect the .Rproj or .here file associated with your project. Because <code>here::here()</code> is so convenient, in most situations you dont need rprojroot, but there are exceptions. For example some of my projects are comprised of partially independent sub-projects that each need their own root folder. Its not usually a good idea to have RStudio projects nestled inside one another, so Ive found rprojroot handy when I need to distinguish between different kinds of root (e.g., project root or sub-project root).</p>
<p>The next step in orientation is finding the post folder. Because this is a <a href="https://rstudio.github.io/distill/">distill</a> blog, all my posts are stored in the <code>_posts</code> folder, and Ive adopted a consistent <a href="https://slides.djnavarro.net/project-structure/">naming</a> <a href="https://speakerdeck.com/jennybc/how-to-name-files">convention</a> for my post folders. Every one begins with the post date in year-month-day format, followed by a human-readable slug:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>post</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='va'>params</span><span class='op'>$</span><span class='va'>date</span>, <span class='va'>params</span><span class='op'>$</span><span class='va'>slug</span>, sep <span class='op'>=</span> <span class='st'>"_"</span><span class='op'>)</span>
<span class='va'>post</span>
</code></pre>
</div>
<pre><code>[1] &quot;2021-09-07_generating-the-water-colours&quot;</code></pre>
</div>
<p>This allows me to construct the path to the image file and display it in the post:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>file</span> <span class='op'>&lt;-</span> <span class='fu'>fs</span><span class='fu'>::</span><span class='fu'><a href='http://fs.r-lib.org/reference/path.html'>path</a></span><span class='op'>(</span><span class='va'>blog</span>, <span class='st'>"_posts"</span>, <span class='va'>post</span>, <span class='st'>"jasmine.jpg"</span><span class='op'>)</span>
<span class='fu'>knitr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/knitr/man/include_graphics.html'>include_graphics</a></span><span class='op'>(</span><span class='va'>file</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="jasmine.jpg" width="100%" /></p>
</div>
<aside>
The photo has an emotional resonance to me: it dates back to 2011 and appeared on the cover of <a href="https://learningstatisticswithr.com">Learning Statistics with R</a>. Although 10 years separate the <em>Water Colours</em> series from the text and the photo, the two are linked by a shared connection to events from a decade ago
</aside>
<h3 id="importing-the-image">Importing the image</h3>
<p>Now that we have the path to the image file, the next step is to import it into R at a suitable resolution. The original image size is 1000x600 pixels, which is a little more than we need. Heres a simple <code>import_image()</code> function that will read it into R at the desired <code>width</code> and <code>height</code>:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>import_image</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>path</span>, <span class='va'>width</span>, <span class='va'>height</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>geometry</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='va'>width</span>, <span class='st'>"x"</span>, <span class='va'>height</span><span class='op'>)</span>
  <span class='va'>path</span> <span class='op'>%&gt;%</span> 
    <span class='fu'>magick</span><span class='fu'>::</span><span class='fu'><a href='https://docs.ropensci.org/magick/reference/editing.html'>image_read</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'>magick</span><span class='fu'>::</span><span class='fu'><a href='https://docs.ropensci.org/magick/reference/transform.html'>image_scale</a></span><span class='op'>(</span><span class='va'>geometry</span><span class='op'>)</span>
<span class='op'>}</span>
</code></pre>
</div>
</div>
<p>Internally, all the work is being done by the fabulous magick package that provides bindings to the <a href="https://imagemagick.org/">ImageMagick</a> library. In fact, its the ImageMagick library that is doing all the work here. The data structure that is loaded into R is merely a pointer to an object that ImageMagick is manipulating. Generally thats a good thing for performance reasons, but in this case were going to work with the raw image data inside R.</p>
<h3 id="converting-the-image-to-data">Converting the image to data</h3>
<p>Converting the image into a data structure we can use is a two step process. First, we create a matrix that represents the image in a format similar to the image itself, which is the job of the <code>construct_matrix()</code> function below. It takes the <code>image</code> as input, and first coerces it to a raster object and then to a regular matrix: in the code below, the matrix is named <code>mat</code>, and the pixel on the i-th row and j-th column of the image is represented by the contents of <code>mat[i, j]</code>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>construct_matrix</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>image</span><span class='op'>)</span> <span class='op'>{</span>
  
  <span class='co'># read matrix</span>
  <span class='va'>mat</span> <span class='op'>&lt;-</span> <span class='va'>image</span> <span class='op'>%&gt;%</span> 
    <span class='fu'><a href='https://rdrr.io/r/grDevices/as.raster.html'>as.raster</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
    <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>as.matrix</a></span><span class='op'>(</span><span class='op'>)</span>
  
  <span class='co'># use the row and column names to represent co-ordinates</span>
  <span class='fu'><a href='https://tibble.tidyverse.org/reference/rownames.html'>rownames</a></span><span class='op'>(</span><span class='va'>mat</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>"y"</span>, <span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span><span class='op'>(</span><span class='va'>mat</span><span class='op'>)</span><span class='op'>:</span><span class='fl'>1</span><span class='op'>)</span> <span class='co'># &lt;- flip y</span>
  <span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span><span class='op'>(</span><span class='va'>mat</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>"x"</span>, <span class='fl'>1</span><span class='op'>:</span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>ncol</a></span><span class='op'>(</span><span class='va'>mat</span><span class='op'>)</span><span class='op'>)</span>
  
  <span class='kw'><a href='https://rdrr.io/r/base/function.html'>return</a></span><span class='op'>(</span><span class='va'>mat</span><span class='op'>)</span>
<span class='op'>}</span>
</code></pre>
</div>
</div>
<p>A little care is needed when interpreting the rows of this matrix. When we think about graphs, the values on y-axis increase as we move our eyes upwards from the bottom, so our mental model has the small numbers at the bottom and the big numbers at the top. But thats not the only mental model in play here. When we read a matrix or a table we dont <em>look</em> at it, we <em>read</em> it - and we read from top to bottom. A numbered list, for example, has the smallest numbers at the top, and the numbers get bigger as we read down the list. Both of those mental models are sensible, but its hard to switch between them.</p>
<p>The tricky part here is that the raw image is written in reading format. Its supposed to be read like a table or a list, so the indices increase as we read down the image. The image data returned by <code>construct_matrix()</code> is organised this format. However, when we draw pictures with ggplot2 later on, were going to need to reverse this convention and switch to graph format with the small numbers at the bottom. Thats the reason why the code above flips the order of the row names: our next task will be to convert this (reading-formatted) matrix into a tidy tibble, and those row and column names will become become our (graph-formatted) x- and y-coordinates.</p>
<p>The code that does this transformation is shown below in the <code>construct_tibble()</code> function:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>construct_tibble</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>mat</span><span class='op'>)</span> <span class='op'>{</span>
  
  <span class='co'># convert to tibble</span>
  <span class='va'>tbl</span> <span class='op'>&lt;-</span> <span class='va'>mat</span> <span class='op'>%&gt;%</span>
    <span class='fu'><a href='https://rdrr.io/r/base/as.data.frame.html'>as.data.frame</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
    <span class='fu'><a href='https://tibble.tidyverse.org/reference/rownames.html'>rownames_to_column</a></span><span class='op'>(</span><span class='st'>"y"</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
    <span class='fu'><a href='https://tibble.tidyverse.org/reference/as_tibble.html'>as_tibble</a></span><span class='op'>(</span><span class='op'>)</span> 
  
  <span class='co'># reshape</span>
  <span class='va'>tbl</span> <span class='op'>&lt;-</span> <span class='va'>tbl</span> <span class='op'>%&gt;%</span>
    <span class='fu'><a href='https://tidyr.tidyverse.org/reference/pivot_longer.html'>pivot_longer</a></span><span class='op'>(</span>
      cols <span class='op'>=</span> <span class='fu'><a href='https://tidyselect.r-lib.org/reference/starts_with.html'>starts_with</a></span><span class='op'>(</span><span class='st'>"x"</span><span class='op'>)</span>,
      names_to <span class='op'>=</span> <span class='st'>"x"</span>,
      values_to <span class='op'>=</span> <span class='st'>"shade"</span>
    <span class='op'>)</span> 
  
  <span class='co'># tidy</span>
  <span class='va'>tbl</span> <span class='op'>&lt;-</span> <span class='va'>tbl</span> <span class='op'>%&gt;%</span>
    <span class='fu'><a href='https://dplyr.tidyverse.org/reference/arrange.html'>arrange</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>
      x <span class='op'>=</span> <span class='va'>x</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_remove.html'>str_remove_all</a></span><span class='op'>(</span><span class='st'>"x"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span><span class='op'>)</span>,
      y <span class='op'>=</span> <span class='va'>y</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_remove.html'>str_remove_all</a></span><span class='op'>(</span><span class='st'>"y"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span><span class='op'>)</span>,
      id <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/ranking.html'>row_number</a></span><span class='op'>(</span><span class='op'>)</span>
    <span class='op'>)</span>
  
  <span class='kw'><a href='https://rdrr.io/r/base/function.html'>return</a></span><span class='op'>(</span><span class='va'>tbl</span><span class='op'>)</span>
<span class='op'>}</span>
</code></pre>
</div>
</div>
<p>The first line coerces the matrix to a plain data frame, then uses <code>rownames_to_columns()</code> to extract the row names before coercing it to a tibble. This step is necessary because tibbles dont have row names, and we need to have a variable <code>y</code> to store those co-ordinate values. The next step uses <code>pivot_longer()</code> to capture all the other variables (currently named <code>x1</code>, <code>x2</code>, etc) and pull them down into a single column that specifies the <code>x</code> co-ordinate.</p>
<p>So at this stage, the <code>tbl</code> tibble contains three variables: an <code>x</code> value, a <code>y</code> value, and a <code>shade</code> that contains the hex code for a colour. The last step is to tidy up the values. After <code>pivot_longer()</code> does its job, the <code>x</code> variable contains strings like <code>"x1"</code>, <code>"x2"</code>, etc, but wed prefer them to be actual numbers like <code>1</code>, <code>2</code>, etc. The same is true for the <code>y</code> variable. To fix this, the last part of the code does a tiny bit of string manipulation using <code>str_remove_all()</code> to get rid of the unwanted prefixes, and then coerces the result to a number.</p>
<aside>
The <code>names_prefix</code> argument to <code>pivot_longer()</code> can do this without the extra step, but I prefer the verbose form. I think its more readable and it handles <code>x</code> and <code>y</code> at the same code location
</aside>
<p>Taken together, the <code>import_image()</code>, <code>construct_matrix()</code>, and <code>construct_tibble()</code> functions provide us with everything we need to pull the data from the image file and organise it into a format that ggplot2 is expecting:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>jas</span> <span class='op'>&lt;-</span> <span class='va'>file</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>import_image</span><span class='op'>(</span>width <span class='op'>=</span> <span class='fl'>100</span>, height <span class='op'>=</span> <span class='fl'>60</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>construct_matrix</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>construct_tibble</span><span class='op'>(</span><span class='op'>)</span>

<span class='va'>jas</span>
</code></pre>
</div>
<pre><code># A tibble: 6,000  4
       y     x shade        id
   &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;     &lt;int&gt;
 1     1     1 #838c70ff     1
 2    10     1 #3c3123ff     2
 3    11     1 #503d3dff     3
 4    12     1 #363126ff     4
 5    13     1 #443a30ff     5
 6    14     1 #8a6860ff     6
 7    15     1 #665859ff     7
 8    16     1 #5a5d51ff     8
 9    17     1 #535c4cff     9
10    18     1 #944b61ff    10
#  with 5,990 more rows</code></pre>
</div>
<p>A little unusually, the hex codes here are specified in RGBA format: the first two numbers specify the hexadecimal code for the red level, the second two represent the green level (or channel), the third two are the blue channel, and the last two are the opacity level (the alpha channel). Im going to ignore the alpha channel for this exercise though.</p>
<p>Theres one last thing to point out before turning to the fun art part. Notice that <code>jas</code> also contains an <code>id</code> column. Its generally good practice to have an <code>id</code> column that uniquely identifies each row, and will turn out to be useful later when we need to join this data set with other data sets that well generate.</p>
<h3 id="art-from-data-visualisation">Art from data visualisation</h3>
<p>Let the art begin!</p>
<p>The first step is to define a helper function <code>ggplot_themed()</code> that provides a template that well reuse in every plot. Mostly this involves preventing ggplot2 from doing things it wants to do. When were doing data visualisation its great that ggplot2 automatically provides things like legends, axes, and scales to map from data to visual aesthetics, but theyre not much use to us artistically, so we might as well have a function that gets rid of all those things:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>ggplot_themed</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>data</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>data</span> <span class='op'>%&gt;%</span> 
    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_fixed.html'>coord_equal</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> 
    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_identity.html'>scale_size_identity</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> 
    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_identity.html'>scale_colour_identity</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> 
    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_identity.html'>scale_fill_identity</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> 
    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_void</a></span><span class='op'>(</span><span class='op'>)</span> 
<span class='op'>}</span>
</code></pre>
</div>
</div>
<p>This template will make all our later code easier: the <code>x</code> and <code>y</code> aesthetics are already specified, ggplot2 wont try to interpret our colours and sizes for us, and it wont mess with the aspect ratio. In effect, this turns off the autopilot: were flying this thing manually</p>
<p>There are a lot of ways to plot the <code>jas</code> data. The least imaginative possibility is <code>geom_tile()</code>, which produces a pixellated version of the jasmines photo where each cell is filled with the same colour as the corresponding pixel:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>jas</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>ggplot_themed</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_tile</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='va'>shade</span><span class='op'>)</span><span class='op'>)</span> 
</code></pre>
</div>
<p><img src="index_files/figure-html5/jasmine-raster-image-1.png" width="100%" /></p>
</div>
<p>Of course, if you are like me you always forget to use the fill aesthetic. The muscle memory tells me to use the colour aesthetic, so I often end up drawing something where only the borders of the tiles are coloured:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>jas</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>ggplot_themed</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_tile</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='va'>shade</span><span class='op'>)</span><span class='op'>)</span> 
</code></pre>
</div>
<p><img src="index_files/figure-html5/jasmine-raster-variant-image-1.png" width="100%" /></p>
</div>
<p>Its surprisingly pretty, and (yet another) demonstration of how good the visual system is at reconstructing images from low-quality input: the original image is still perceptible despite the fact that most of the plot area is black. I didnt end up pursuing this (yet!) but I think theres a lot of artistic potential here. It might be worth playing with at a later date. In that sense generative art is a lot like any other kind of art (or, for that matter, science). It is as much about exploration and discovery as it is about technical prowess.</p>
<p>The path I did follow is based on <code>geom_point()</code>. Each pixel in the original image is plotted as a circular marker in the appropriate colour. Heres the simplest version of this idea applied to the <code>jas</code> data:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>jas</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>ggplot_themed</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='va'>shade</span><span class='op'>)</span><span class='op'>)</span> 
</code></pre>
</div>
<p><img src="index_files/figure-html5/jasmine-scatter-image-1.png" width="100%" /></p>
</div>
<p>Its simple, but I like it.</p>
<h3 id="extracting-the-colour-channels">Extracting the colour channels</h3>
<p>Up to this point we havent been manipulating the colours in any of the plots: the hex code in the <code>shade</code> variable is left intact. Theres no inherent reason we should limit ourselves in such a boring way. Base R provides the <code>col2rgb()</code> function that separates the hex code into red, green, blue channels, and represents each with integers between 0 and 255. It also provides the <code>rgb2hsv()</code> function that converts this RGB representation into <a href="https://en.wikipedia.org/wiki/HSL_and_HSV">hue, saturation, and value</a> format.</p>
<p>The code below defines an <code>extract_channels()</code> helper function that takes the <code>shade</code> column in the data, and adds six new columns that Ive unimaginatively named <code>red</code>, <code>grn</code>, <code>blu</code>, <code>hue</code>, <code>sat</code>, and <code>val</code> (Im a sucker for variable names that are all the same length):</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>extract_channels</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>tbl</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>rgb</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/with.html'>with</a></span><span class='op'>(</span><span class='va'>tbl</span>, <span class='fu'><a href='https://rdrr.io/r/grDevices/col2rgb.html'>col2rgb</a></span><span class='op'>(</span><span class='va'>shade</span><span class='op'>)</span><span class='op'>)</span>
  <span class='va'>hsv</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/grDevices/rgb2hsv.html'>rgb2hsv</a></span><span class='op'>(</span><span class='va'>rgb</span><span class='op'>)</span>
  <span class='va'>tbl</span> <span class='op'>&lt;-</span> <span class='va'>tbl</span> <span class='op'>%&gt;%</span> 
    <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>
      red <span class='op'>=</span> <span class='va'>rgb</span><span class='op'>[</span><span class='fl'>1</span>, <span class='op'>]</span>,
      grn <span class='op'>=</span> <span class='va'>rgb</span><span class='op'>[</span><span class='fl'>2</span>, <span class='op'>]</span>,
      blu <span class='op'>=</span> <span class='va'>rgb</span><span class='op'>[</span><span class='fl'>3</span>, <span class='op'>]</span>,
      hue <span class='op'>=</span> <span class='va'>hsv</span><span class='op'>[</span><span class='fl'>1</span>, <span class='op'>]</span>,
      sat <span class='op'>=</span> <span class='va'>hsv</span><span class='op'>[</span><span class='fl'>2</span>, <span class='op'>]</span>,
      val <span class='op'>=</span> <span class='va'>hsv</span><span class='op'>[</span><span class='fl'>3</span>, <span class='op'>]</span>
    <span class='op'>)</span>
  <span class='kw'><a href='https://rdrr.io/r/base/function.html'>return</a></span><span class='op'>(</span><span class='va'>tbl</span><span class='op'>)</span>
<span class='op'>}</span>
</code></pre>
</div>
</div>
<p>After applying this to the <code>jas</code> data, we have several new variables that we can play with and recombine in different ways to create new art:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>jas</span> <span class='op'>&lt;-</span> <span class='fu'>extract_channels</span><span class='op'>(</span><span class='va'>jas</span><span class='op'>)</span>
<span class='va'>jas</span>
</code></pre>
</div>
<pre><code># A tibble: 6,000  10
       y     x shade        id   red   grn   blu    hue   sat   val
   &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;     &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1     1     1 #838c70ff     1   131   140   112 0.220  0.200 0.549
 2    10     1 #3c3123ff     2    60    49    35 0.0933 0.417 0.235
 3    11     1 #503d3dff     3    80    61    61 0      0.237 0.314
 4    12     1 #363126ff     4    54    49    38 0.115  0.296 0.212
 5    13     1 #443a30ff     5    68    58    48 0.0833 0.294 0.267
 6    14     1 #8a6860ff     6   138   104    96 0.0317 0.304 0.541
 7    15     1 #665859ff     7   102    88    89 0.988  0.137 0.4  
 8    16     1 #5a5d51ff     8    90    93    81 0.208  0.129 0.365
 9    17     1 #535c4cff     9    83    92    76 0.260  0.174 0.361
10    18     1 #944b61ff    10   148    75    97 0.950  0.493 0.580
#  with 5,990 more rows</code></pre>
</div>
<h3 id="art-from-channel-manipulation">Art from channel manipulation</h3>
<p>One way to use this representation is in <a href="https://en.wikipedia.org/wiki/Halftone">halftone images</a>. If you have a printer that contains only black ink, you can approximate shades of grey by using the size of each dot to represent how dark that pixel should be:</p>
<aside>
The <a href="https://github.com/cmarcum/halftoner">halftoner</a> package will do this for you, incidentally
</aside>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>map_size</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'>ambient</span><span class='fu'>::</span><span class='fu'><a href='https://ambient.data-imaginist.com/reference/modifications.html'>normalise</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>-</span><span class='va'>x</span>, to <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='va'>jas</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>ggplot_themed</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>  
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span>
    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fu'>map_size</span><span class='op'>(</span><span class='va'>val</span><span class='op'>)</span><span class='op'>)</span>,
    colour <span class='op'>=</span> <span class='st'>"black"</span>, 
    show.legend <span class='op'>=</span> <span class='cn'>FALSE</span>
  <span class='op'>)</span>
</code></pre>
</div>
<p><img src="index_files/figure-html5/jasmine-halftone-image-1.png" width="100%" /></p>
</div>
<aside>
In this code the <code>ambient::normalise()</code> function is used to rescale the input to fall within a specified range. Usually ggplot2 handles this automatically, but as I mentioned, weve turned off the autopilot
</aside>
<p>For real world printers, this approach is very convenient because it allows us to construct any shade we like using only a few different colours of ink. In the halftone world shades of grey are merely blacks of different size, pinks are merely sizes of red (sort of), and so on.</p>
<p>But were not using real printers. Theres nothing stopping us retaining the original hue and saturation, while using dot size to represent intensity. That allows us to produce halftonesque images:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>jas</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>ggplot_themed</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>  
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span>
    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>
      colour <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grDevices/hsv.html'>hsv</a></span><span class='op'>(</span><span class='va'>hue</span>, <span class='va'>sat</span>, <span class='fl'>.5</span><span class='op'>)</span>, 
      size <span class='op'>=</span> <span class='fu'>map_size</span><span class='op'>(</span><span class='va'>val</span><span class='op'>)</span>
    <span class='op'>)</span>, 
    show.legend <span class='op'>=</span> <span class='cn'>FALSE</span>
  <span class='op'>)</span>
</code></pre>
</div>
<p><img src="index_files/figure-html5/jasmine-halftonesque-image-1.png" width="100%" /></p>
</div>
<p>In this code, the <code>hsv()</code> function takes the hue and saturation channels from the original image, but combines them with a constant intensity value: the output is a new colour specified as a hex code that ggplot2 can display in the output. Because we have stripped out the value channel, we can reuse the halftone trick. Much like a halftone image, the image above uses the size aesthetic to represent the intensity at the corresponding pixel.</p>
<h2 id="intermission">Intermission</h2>
<p>Up to this point Ive talked about image manipulation, and I hope you can see the artistic potential created when we pair image processing tools like magick with data visualisation tools like ggplot2. What I havent talked about is how to choose (or generate!) the images to manipulate, and I havent talked about how we might introduce a probabilistic component to the process. Im not going to say much about how to choose images. The possibilities are endless. Ive used a photo I took in my garden in this post, but the pieces in <em>Water Colours</em> series have a different origin. I dripped some food colouring into a glass of water and took some photos of the dye diffusing. Small sections were cropped out of these photos and often preprocessed in some fashion by changing the hue, saturation etc. These manipulated photos were then passed into a noise generation process, and the output produced images like this:</p>
<div class="layout-chunk" data-layout="l-body">
<div>
<div class="row p-0 row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4" style="margin-left: -.4rem; margin-right: -.4rem; margin-top: 1rem; margin-bottom: 1rem; ">
<div class="card bg-transparent m-0 border-0 collapse.show bs4cards-blahblahblah bs4cards-NA" style="padding: .4rem ; border-width: 0; border-radius: .6rem .6rem .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img48_storm-cell.jpg">
<img src="https://djnavarro.net/series-water-colours/500/watercolour_sys02_img48_storm-cell.jpg" class="card-img-top" style="border-style:solid; border-color:#808080FF; border-width:1px 1px 0 1px; border-radius: .6rem .6rem 0 0 ;"/>
</a>
<div class="card-body justify-content-end m-0 p-0" style="visibility: visible; background-color: #FFFFFFAA; border-style:solid; border-color:#808080FF; border-width:1px; border-radius: 0 0 .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img48_storm-cell.jpg">
<h5 class="card-title my-auto px-3 pt-3 pb-3">Storm Cell / Air Elemental</h5>
</a>
</div>
</div>
<div class="card bg-transparent m-0 border-0 collapse.show bs4cards-blahblahblah bs4cards-NA" style="padding: .4rem ; border-width: 0; border-radius: .6rem .6rem .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img49_tonal-earth.jpg">
<img src="https://djnavarro.net/series-water-colours/500/watercolour_sys02_img49_tonal-earth.jpg" class="card-img-top" style="border-style:solid; border-color:#808080FF; border-width:1px 1px 0 1px; border-radius: .6rem .6rem 0 0 ;"/>
</a>
<div class="card-body justify-content-end m-0 p-0" style="visibility: visible; background-color: #FFFFFFAA; border-style:solid; border-color:#808080FF; border-width:1px; border-radius: 0 0 .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img49_tonal-earth.jpg">
<h5 class="card-title my-auto px-3 pt-3 pb-3">Tonal Earth</h5>
</a>
</div>
</div>
<div class="card bg-transparent m-0 border-0 collapse.show bs4cards-blahblahblah bs4cards-NA" style="padding: .4rem ; border-width: 0; border-radius: .6rem .6rem .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img50_cold-front.jpg">
<img src="https://djnavarro.net/series-water-colours/500/watercolour_sys02_img50_cold-front.jpg" class="card-img-top" style="border-style:solid; border-color:#808080FF; border-width:1px 1px 0 1px; border-radius: .6rem .6rem 0 0 ;"/>
</a>
<div class="card-body justify-content-end m-0 p-0" style="visibility: visible; background-color: #FFFFFFAA; border-style:solid; border-color:#808080FF; border-width:1px; border-radius: 0 0 .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img50_cold-front.jpg">
<h5 class="card-title my-auto px-3 pt-3 pb-3">Cold Front</h5>
</a>
</div>
</div>
<div class="card bg-transparent m-0 border-0 collapse.show bs4cards-blahblahblah bs4cards-NA" style="padding: .4rem ; border-width: 0; border-radius: .6rem .6rem .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img51_kintsugi-dreams.jpg">
<img src="https://djnavarro.net/series-water-colours/500/watercolour_sys02_img51_kintsugi-dreams.jpg" class="card-img-top" style="border-style:solid; border-color:#808080FF; border-width:1px 1px 0 1px; border-radius: .6rem .6rem 0 0 ;"/>
</a>
<div class="card-body justify-content-end m-0 p-0" style="visibility: visible; background-color: #FFFFFFAA; border-style:solid; border-color:#808080FF; border-width:1px; border-radius: 0 0 .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img51_kintsugi-dreams.jpg">
<h5 class="card-title my-auto px-3 pt-3 pb-3">Kintsugi Dreams</h5>
</a>
</div>
</div>
</div>
</div>
</div>
<h2 id="art-from-noise-generators">Art from noise generators</h2>
<h3 id="multidimensional-noise-generation">Multidimensional noise generation</h3>
<p>How can we generate interesting noise patterns in R? As usual, there are many different ways you can do this, but my favourite method is to use the <a href="https://ambient.data-imaginist.com/">ambient</a> package that provides bindings to the <a href="https://github.com/Auburn/FastNoiseLite">FastNoise</a> C++ library. A proper description of what you can do with ambient is beyond what I can accomplish here. There are a <em>lot</em> of things you can do with a tool like this, and Ive explored only a small subset of the possibilities in my art. Instead, what Ill do is link to a lovely essay on <a href="https://tylerxhobbs.com/essays/2020/flow-fields">flow fields</a> and encourage you to play around yourself.</p>
<p>The <code>field()</code> function below provides one example. At its heart is <code>ambient::gen_simplex()</code>, a function that generates <a href="https://en.wikipedia.org/wiki/Simplex_noise">simplex noise</a> (examples <a href="https://ambient.data-imaginist.com/reference/noise_simplex.html">here</a>), a useful form of multidimensional noise that has applications in computer graphics. In the code below, the simplex noise is then modified by a <a href="https://ambient.data-imaginist.com/reference/billow.html">billow fractal</a> that makes it lumpier. Thats the job of <code>ambient::gen_billow()</code> and <code>ambient::fracture()</code>. This is then modified one last time by the <code>ambient::curl_noise()</code> function to avoid some undesirable properties of the flow fields created by simplex noise.</p>
<p>In any case, here is the code. Youll probably need to read through the ambient documentation to understand all the moving parts here, but for our purposes the main things to note are the arguments. The <code>points</code> argument takes a data frame or tibble that contains the <code>x</code> and <code>y</code> coordinates of a set of points. The <code>frequency</code> argument controls the overall scale of the noise: does it change quickly or slowly as you move across the image? The <code>octaves</code> argument controls the amount of fractal-ness (hush, I know thats not a word) to the image. How many times do you apply the underlying transformation?</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>field</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>points</span>, <span class='va'>frequency</span> <span class='op'>=</span> <span class='fl'>.1</span>, <span class='va'>octaves</span> <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'>ambient</span><span class='fu'>::</span><span class='fu'><a href='https://ambient.data-imaginist.com/reference/curl_noise.html'>curl_noise</a></span><span class='op'>(</span>
    generator <span class='op'>=</span> <span class='fu'>ambient</span><span class='fu'>::</span><span class='va'><a href='https://ambient.data-imaginist.com/reference/fracture.html'>fracture</a></span>,
    fractal <span class='op'>=</span> <span class='fu'>ambient</span><span class='fu'>::</span><span class='va'><a href='https://ambient.data-imaginist.com/reference/billow.html'>billow</a></span>,
    noise <span class='op'>=</span> <span class='fu'>ambient</span><span class='fu'>::</span><span class='va'><a href='https://ambient.data-imaginist.com/reference/noise_simplex.html'>gen_simplex</a></span>,
    x <span class='op'>=</span> <span class='va'>points</span><span class='op'>$</span><span class='va'>x</span>,
    y <span class='op'>=</span> <span class='va'>points</span><span class='op'>$</span><span class='va'>y</span>,
    frequency <span class='op'>=</span> <span class='va'>frequency</span>,
    octaves <span class='op'>=</span> <span class='va'>octaves</span>,
    seed <span class='op'>=</span> <span class='fl'>1</span>
  <span class='op'>)</span>
<span class='op'>}</span>
</code></pre>
</div>
</div>
<p>The output of the <code>field()</code> function is best interpreted as a set of vectors: its not the locations of new points. Rather, its telling you how fast the x- and y-components are flowing at each of the locations at the specified <code>points</code>. If we want to <code>shift()</code> a set of points along the directions specified by the <code>field()</code>, well need a function like this:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>shift</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>points</span>, <span class='va'>amount</span>, <span class='va'>...</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>vectors</span> <span class='op'>&lt;-</span> <span class='fu'>field</span><span class='op'>(</span><span class='va'>points</span>, <span class='va'>...</span><span class='op'>)</span>
  <span class='va'>points</span> <span class='op'>&lt;-</span> <span class='va'>points</span> <span class='op'>%&gt;%</span>
    <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>
      x <span class='op'>=</span> <span class='va'>x</span> <span class='op'>+</span> <span class='va'>vectors</span><span class='op'>$</span><span class='va'>x</span> <span class='op'>*</span> <span class='va'>amount</span>,
      y <span class='op'>=</span> <span class='va'>y</span> <span class='op'>+</span> <span class='va'>vectors</span><span class='op'>$</span><span class='va'>y</span> <span class='op'>*</span> <span class='va'>amount</span>,
      time <span class='op'>=</span> <span class='va'>time</span> <span class='op'>+</span> <span class='fl'>1</span>,
      id <span class='op'>=</span> <span class='va'>id</span>
    <span class='op'>)</span>
  <span class='kw'><a href='https://rdrr.io/r/base/function.html'>return</a></span><span class='op'>(</span><span class='va'>points</span><span class='op'>)</span>
<span class='op'>}</span>
</code></pre>
</div>
</div>
<p>The set of <code>points</code> is passed to the <code>field()</code>, and then they are moved by a certain <code>amount</code> (a single number specifying a step size) in the relevant direction. The result is a new data frame with the same columns and the same number of rows.</p>
<p>Its worth noting that the <code>shift()</code> function assumes that <code>points</code> contains an <code>id</code> column as well as the <code>x</code> and <code>y</code> columns. This will be crucial later when we want to merge the output with the <code>jas</code> data. Because the positions of each point are changing, the <code>id</code> column will be the method we use to join the two data sets. Its also worth noting that <code>shift()</code> keeps track of <code>time</code> for you. The <code>points</code> input contains a <code>time</code> column: the output from <code>shift()</code> increments that by one, indicating we have stepped forward in time as well as moved the points in space.</p>
<h3 id="art-from-the-noise">Art from the noise</h3>
<p>To illustrate how this all works, Ill start by creating a regular 50x30 grid of points:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>points_time0</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://tidyr.tidyverse.org/reference/expand_grid.html'>expand_grid</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>50</span>, y <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>30</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>time <span class='op'>=</span> <span class='fl'>0</span>, id <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/ranking.html'>row_number</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>

<span class='fu'>ggplot_themed</span><span class='op'>(</span><span class='va'>points_time0</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>.5</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="index_files/figure-html5/plain-grid-1.png" width="100%" /></p>
</div>
<p>Next, Ill apply the <code>shift()</code> function three times in succession, and bind the results into a single tibble that contains the the data at each point in time:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>points_time1</span> <span class='op'>&lt;-</span> <span class='fu'>shift</span><span class='op'>(</span><span class='va'>points_time0</span>, amount <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>
<span class='va'>points_time2</span> <span class='op'>&lt;-</span> <span class='fu'>shift</span><span class='op'>(</span><span class='va'>points_time1</span>, amount <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>
<span class='va'>points_time3</span> <span class='op'>&lt;-</span> <span class='fu'>shift</span><span class='op'>(</span><span class='va'>points_time2</span>, amount <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>

<span class='va'>pts</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/bind.html'>bind_rows</a></span><span class='op'>(</span>
  <span class='va'>points_time0</span>, 
  <span class='va'>points_time1</span>, 
  <span class='va'>points_time2</span>,
  <span class='va'>points_time3</span>
<span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Then Ill quickly write a couple of boring wrapper functions that will control how the size and transparency of the markers changes as a function of time</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>map_size</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'>ambient</span><span class='fu'>::</span><span class='fu'><a href='https://ambient.data-imaginist.com/reference/modifications.html'>normalise</a></span><span class='op'>(</span><span class='va'>x</span>, to <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>
<span class='op'>}</span>
<span class='va'>map_alpha</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'>ambient</span><span class='fu'>::</span><span class='fu'><a href='https://ambient.data-imaginist.com/reference/modifications.html'>normalise</a></span><span class='op'>(</span><span class='op'>-</span><span class='va'>x</span>, to <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>.5</span><span class='op'>)</span><span class='op'>)</span>
<span class='op'>}</span>
</code></pre>
</div>
</div>
<p>and now we can create some art:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>pts</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>ggplot_themed</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>  
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span>
    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>
      size <span class='op'>=</span> <span class='fu'>map_size</span><span class='op'>(</span><span class='va'>time</span><span class='op'>)</span>, 
      alpha <span class='op'>=</span> <span class='fu'>map_alpha</span><span class='op'>(</span><span class='va'>time</span><span class='op'>)</span>
    <span class='op'>)</span>,
    show.legend <span class='op'>=</span> <span class='cn'>FALSE</span>
  <span class='op'>)</span>
</code></pre>
</div>
<p><img src="index_files/figure-html5/noise-stepped-image-1.png" width="100%" /></p>
</div>
<h3 id="accumulating-art-with-purrr">Accumulating art with purrr</h3>
<p>The code above is inelegant. Ive iteratively created a sequence of data frames by writing the same line of code several times. I could solve this problem by writing a loop, but Ive become a fan of the functional programming tools in <a href="https://purrr.tidyverse.org/">purrr</a> and Ill take advantage of that. In particular, the <code>purrr::accumulate()</code> function is an <a href="https://adv-r.hadley.nz/functionals.html#accumulate">underappreciated gem</a>. It does <em>precisely</em> the thing we want to do here. It takes one object (e.g., <code>points</code>) as input, together with a second quantity (e.g., an <code>amount</code>) and uses the user-supplied function (e.g., <code>shift()</code> to produce a <em>new</em> object that can again be passed to that function (i.e., new <code>points</code>). It continues with this process, taking the output of the last iteration of <code>shift()</code> and using it as input to the next iteration until it runs out of <code>amount</code> values. It is very similar to the better-known <code>purrr::reduce()</code> function, except that it doesnt throw away the intermediate values. The <code>reduce()</code> function is only interested in the destination; <code>accumulate()</code> is a whole <em>journey</em>.</p>
<p>So lets use it.</p>
<p>The <code>iterate()</code> function below gives a convenient interface</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>iterate</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>pts</span>, <span class='va'>time</span>, <span class='va'>step</span>, <span class='va'>...</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/bind.html'>bind_rows</a></span><span class='op'>(</span><span class='fu'><a href='https://purrr.tidyverse.org/reference/accumulate.html'>accumulate</a></span><span class='op'>(</span>
    .x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='va'>step</span>, <span class='va'>time</span><span class='op'>)</span>, 
    .f <span class='op'>=</span> <span class='va'>shift</span>, 
    .init <span class='op'>=</span> <span class='va'>pts</span>,
    <span class='va'>...</span>
  <span class='op'>)</span><span class='op'>)</span>
<span class='op'>}</span>
</code></pre>
</div>
</div>
<p> and heres the code to recreate the image shown above:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>pts</span> <span class='op'>&lt;-</span> <span class='va'>points_time0</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>iterate</span><span class='op'>(</span>time <span class='op'>=</span> <span class='fl'>3</span>, step <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>

<span class='va'>pts</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>ggplot_themed</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>  
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span>
    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>
      size <span class='op'>=</span> <span class='fu'>map_size</span><span class='op'>(</span><span class='va'>time</span><span class='op'>)</span>, 
      alpha <span class='op'>=</span> <span class='fu'>map_alpha</span><span class='op'>(</span><span class='va'>time</span><span class='op'>)</span>
    <span class='op'>)</span>,
    show.legend <span class='op'>=</span> <span class='cn'>FALSE</span>
  <span class='op'>)</span>
</code></pre>
</div>
<p><img src="index_files/figure-html5/noise-stepped-data-2-1.png" width="100%" /></p>
</div>
<h2 id="assembling-the-parts">Assembling the parts</h2>
<h3 id="adding-noise-to-jasmines-coordinates">Adding noise to jasmines coordinates</h3>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>extract_points</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>data</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>data</span> <span class='op'>%&gt;%</span> 
    <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span>, <span class='va'>id</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>time <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>
<span class='op'>}</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>pts</span> <span class='op'>&lt;-</span> <span class='va'>jas</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>extract_points</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>iterate</span><span class='op'>(</span>time <span class='op'>=</span> <span class='fl'>20</span>, step <span class='op'>=</span> <span class='fl'>.1</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>map_size</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'>ambient</span><span class='fu'>::</span><span class='fu'><a href='https://ambient.data-imaginist.com/reference/modifications.html'>normalise</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>^</span><span class='fl'>2</span>, to <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>5</span><span class='op'>)</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='va'>pts</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>ggplot_themed</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>  
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span>
    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fu'>map_size</span><span class='op'>(</span><span class='va'>time</span><span class='op'>)</span><span class='op'>)</span>,
    alpha <span class='op'>=</span> <span class='fl'>.01</span>,
    show.legend <span class='op'>=</span> <span class='cn'>FALSE</span>
  <span class='op'>)</span> 
</code></pre>
</div>
<p><img src="index_files/figure-html5/accumulated-noise-image-1.png" width="100%" /></p>
</div>
<h3 id="joining-the-noise-with-jasmine-colours">Joining the noise with jasmine colours</h3>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>join_parts</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>jas</span>, <span class='va'>pts</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>jas</span> <span class='op'>%&gt;%</span> 
    <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='op'>-</span><span class='va'>x</span>, <span class='op'>-</span><span class='va'>y</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate-joins.html'>full_join</a></span><span class='op'>(</span><span class='va'>pts</span>, by <span class='op'>=</span> <span class='st'>"id"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'><a href='https://dplyr.tidyverse.org/reference/arrange.html'>arrange</a></span><span class='op'>(</span><span class='va'>time</span>, <span class='va'>id</span><span class='op'>)</span> 
<span class='op'>}</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>jas</span> <span class='op'>&lt;-</span> <span class='fu'>join_parts</span><span class='op'>(</span><span class='va'>jas</span>, <span class='va'>pts</span><span class='op'>)</span>
<span class='va'>jas</span>
</code></pre>
</div>
<pre><code># A tibble: 126,000  11
   shade     id   red   grn   blu    hue   sat   val     x     y  time
   &lt;chr&gt;  &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1 #838c     1   131   140   112 0.220  0.200 0.549     1     1     0
 2 #3c31     2    60    49    35 0.0933 0.417 0.235     1    10     0
 3 #503d     3    80    61    61 0      0.237 0.314     1    11     0
 4 #3631     4    54    49    38 0.115  0.296 0.212     1    12     0
 5 #443a     5    68    58    48 0.0833 0.294 0.267     1    13     0
 6 #8a68     6   138   104    96 0.0317 0.304 0.541     1    14     0
 7 #6658     7   102    88    89 0.988  0.137 0.4       1    15     0
 8 #5a5d     8    90    93    81 0.208  0.129 0.365     1    16     0
 9 #535c     9    83    92    76 0.260  0.174 0.361     1    17     0
10 #944b    10   148    75    97 0.950  0.493 0.580     1    18     0
#  with 125,990 more rows</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>map_size</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'>ambient</span><span class='fu'>::</span><span class='fu'><a href='https://ambient.data-imaginist.com/reference/modifications.html'>normalise</a></span><span class='op'>(</span><span class='op'>(</span><span class='fl'>1</span> <span class='op'>-</span> <span class='va'>x</span><span class='op'>)</span> <span class='op'>*</span> <span class='va'>y</span><span class='op'>^</span><span class='fl'>2</span>, to <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>5</span><span class='op'>)</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='va'>jas</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>ggplot_themed</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>  
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span>
    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>
      colour <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grDevices/hsv.html'>hsv</a></span><span class='op'>(</span><span class='va'>hue</span>, <span class='va'>sat</span>, <span class='fl'>.5</span><span class='op'>)</span>, 
      size <span class='op'>=</span> <span class='fu'>map_size</span><span class='op'>(</span><span class='va'>val</span>, <span class='va'>time</span><span class='op'>)</span>
    <span class='op'>)</span>, 
    alpha <span class='op'>=</span> <span class='fl'>.03</span>,
    show.legend <span class='op'>=</span> <span class='cn'>FALSE</span>
  <span class='op'>)</span>
</code></pre>
</div>
<p><img src="index_files/figure-html5/noisy-jasmine-image-1.png" width="100%" /></p>
</div>
<h3 id="a-higher-resolution-example">A higher resolution example</h3>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>jas</span> <span class='op'>&lt;-</span> <span class='va'>file</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>import_image</span><span class='op'>(</span>width <span class='op'>=</span> <span class='fl'>200</span>, height <span class='op'>=</span> <span class='fl'>120</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>construct_matrix</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>construct_tibble</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>extract_channels</span><span class='op'>(</span><span class='op'>)</span>

<span class='va'>pts</span> <span class='op'>&lt;-</span> <span class='va'>jas</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>extract_points</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>iterate</span><span class='op'>(</span>
    time <span class='op'>=</span> <span class='fl'>40</span>, 
    step <span class='op'>=</span> <span class='fl'>.2</span>, 
    octaves <span class='op'>=</span> <span class='fl'>10</span>, 
    frequency <span class='op'>=</span> <span class='fl'>.05</span>
  <span class='op'>)</span>

<span class='va'>jas</span> <span class='op'>&lt;-</span> <span class='fu'>join_parts</span><span class='op'>(</span><span class='va'>jas</span>, <span class='va'>pts</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>map_size</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fl'>12</span> <span class='op'>*</span> <span class='op'>(</span><span class='fl'>1</span> <span class='op'>-</span> <span class='va'>x</span><span class='op'>)</span> <span class='op'>*</span> <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>max</a></span><span class='op'>(</span><span class='va'>y</span><span class='op'>)</span><span class='op'>^</span><span class='fl'>2</span> <span class='op'>-</span> <span class='va'>y</span><span class='op'>^</span><span class='fl'>2</span><span class='op'>)</span> <span class='op'>/</span> <span class='va'>y</span><span class='op'>^</span><span class='fl'>2</span>
<span class='op'>}</span>

<span class='va'>pic</span> <span class='op'>&lt;-</span> <span class='va'>jas</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>ggplot_themed</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>  
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span>
    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>
      colour <span class='op'>=</span> <span class='va'>shade</span>, 
      size <span class='op'>=</span> <span class='fu'>map_size</span><span class='op'>(</span><span class='va'>val</span>, <span class='va'>time</span><span class='op'>)</span>
    <span class='op'>)</span>, 
    alpha <span class='op'>=</span> <span class='fl'>1</span>,
    stroke <span class='op'>=</span> <span class='fl'>0</span>,
    show.legend <span class='op'>=</span> <span class='cn'>FALSE</span>
  <span class='op'>)</span> 

<span class='va'>pic</span>
</code></pre>
</div>
<p><img src="index_files/figure-html5/jasmine-detailed-image-1.png" width="100%" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>pic</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span>limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>11</span>, <span class='fl'>190</span><span class='op'>)</span>, expand <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span>limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>7</span>, <span class='fl'>114</span><span class='op'>)</span>, expand <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="index_files/figure-html5/jasmine-cropped-image-1.png" width="100%" /></p>
</div>
<h2 id="epilogue">Epilogue</h2>
<div class="layout-chunk" data-layout="l-body">
<div>
<div class="row p-0 row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4" style="margin-left: -.4rem; margin-right: -.4rem; margin-top: 1rem; margin-bottom: 1rem; ">
<div class="card bg-transparent m-0 border-0 collapse.show bs4cards-blahblahblah bs4cards-NA" style="padding: .4rem ; border-width: 0; border-radius: .6rem .6rem .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img53_departure.jpg">
<img src="https://djnavarro.net/series-water-colours/500/watercolour_sys02_img53_departure.jpg" class="card-img-top" style="border-style:solid; border-color:#808080FF; border-width:1px 1px 0 1px; border-radius: .6rem .6rem 0 0 ;"/>
</a>
<div class="card-body justify-content-end m-0 p-0" style="visibility: visible; background-color: #FFFFFFAA; border-style:solid; border-color:#808080FF; border-width:1px; border-radius: 0 0 .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img53_departure.jpg">
<h5 class="card-title my-auto px-3 pt-3 pb-3">Departure</h5>
</a>
</div>
</div>
<div class="card bg-transparent m-0 border-0 collapse.show bs4cards-blahblahblah bs4cards-NA" style="padding: .4rem ; border-width: 0; border-radius: .6rem .6rem .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img54_echo.jpg">
<img src="https://djnavarro.net/series-water-colours/500/watercolour_sys02_img54_echo.jpg" class="card-img-top" style="border-style:solid; border-color:#808080FF; border-width:1px 1px 0 1px; border-radius: .6rem .6rem 0 0 ;"/>
</a>
<div class="card-body justify-content-end m-0 p-0" style="visibility: visible; background-color: #FFFFFFAA; border-style:solid; border-color:#808080FF; border-width:1px; border-radius: 0 0 .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img54_echo.jpg">
<h5 class="card-title my-auto px-3 pt-3 pb-3">Echo</h5>
</a>
</div>
</div>
<div class="card bg-transparent m-0 border-0 collapse.show bs4cards-blahblahblah bs4cards-NA" style="padding: .4rem ; border-width: 0; border-radius: .6rem .6rem .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img57_portal.jpg">
<img src="https://djnavarro.net/series-water-colours/500/watercolour_sys02_img57_portal.jpg" class="card-img-top" style="border-style:solid; border-color:#808080FF; border-width:1px 1px 0 1px; border-radius: .6rem .6rem 0 0 ;"/>
</a>
<div class="card-body justify-content-end m-0 p-0" style="visibility: visible; background-color: #FFFFFFAA; border-style:solid; border-color:#808080FF; border-width:1px; border-radius: 0 0 .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img57_portal.jpg">
<h5 class="card-title my-auto px-3 pt-3 pb-3">Portal</h5>
</a>
</div>
</div>
<div class="card bg-transparent m-0 border-0 collapse.show bs4cards-blahblahblah bs4cards-NA" style="padding: .4rem ; border-width: 0; border-radius: .6rem .6rem .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img60_salt-stone-storm.jpg">
<img src="https://djnavarro.net/series-water-colours/500/watercolour_sys02_img60_salt-stone-storm.jpg" class="card-img-top" style="border-style:solid; border-color:#808080FF; border-width:1px 1px 0 1px; border-radius: .6rem .6rem 0 0 ;"/>
</a>
<div class="card-body justify-content-end m-0 p-0" style="visibility: visible; background-color: #FFFFFFAA; border-style:solid; border-color:#808080FF; border-width:1px; border-radius: 0 0 .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img60_salt-stone-storm.jpg">
<h5 class="card-title my-auto px-3 pt-3 pb-3">Gods of Salt, Stone, and Storm</h5>
</a>
</div>
</div>
<div class="card bg-transparent m-0 border-0 collapse.show bs4cards-blahblahblah bs4cards-NA" style="padding: .4rem ; border-width: 0; border-radius: .6rem .6rem .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img61_amanecer-de-invierno.jpg">
<img src="https://djnavarro.net/series-water-colours/500/watercolour_sys02_img61_amanecer-de-invierno.jpg" class="card-img-top" style="border-style:solid; border-color:#808080FF; border-width:1px 1px 0 1px; border-radius: .6rem .6rem 0 0 ;"/>
</a>
<div class="card-body justify-content-end m-0 p-0" style="visibility: visible; background-color: #FFFFFFAA; border-style:solid; border-color:#808080FF; border-width:1px; border-radius: 0 0 .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img61_amanecer-de-invierno.jpg">
<h5 class="card-title my-auto px-3 pt-3 pb-3">El ltimo Amanecer de Invierno</h5>
</a>
</div>
</div>
<div class="card bg-transparent m-0 border-0 collapse.show bs4cards-blahblahblah bs4cards-NA" style="padding: .4rem ; border-width: 0; border-radius: .6rem .6rem .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img65_plume.jpg">
<img src="https://djnavarro.net/series-water-colours/500/watercolour_sys02_img65_plume.jpg" class="card-img-top" style="border-style:solid; border-color:#808080FF; border-width:1px 1px 0 1px; border-radius: .6rem .6rem 0 0 ;"/>
</a>
<div class="card-body justify-content-end m-0 p-0" style="visibility: visible; background-color: #FFFFFFAA; border-style:solid; border-color:#808080FF; border-width:1px; border-radius: 0 0 .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img65_plume.jpg">
<h5 class="card-title my-auto px-3 pt-3 pb-3">Plume</h5>
</a>
</div>
</div>
<div class="card bg-transparent m-0 border-0 collapse.show bs4cards-blahblahblah bs4cards-NA" style="padding: .4rem ; border-width: 0; border-radius: .6rem .6rem .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img67_woodland-spirits.jpg">
<img src="https://djnavarro.net/series-water-colours/500/watercolour_sys02_img67_woodland-spirits.jpg" class="card-img-top" style="border-style:solid; border-color:#808080FF; border-width:1px 1px 0 1px; border-radius: .6rem .6rem 0 0 ;"/>
</a>
<div class="card-body justify-content-end m-0 p-0" style="visibility: visible; background-color: #FFFFFFAA; border-style:solid; border-color:#808080FF; border-width:1px; border-radius: 0 0 .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img67_woodland-spirits.jpg">
<h5 class="card-title my-auto px-3 pt-3 pb-3">Woodland Spirits</h5>
</a>
</div>
</div>
<div class="card bg-transparent m-0 border-0 collapse.show bs4cards-blahblahblah bs4cards-NA" style="padding: .4rem ; border-width: 0; border-radius: .6rem .6rem .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img68_below-the-horizon.jpg">
<img src="https://djnavarro.net/series-water-colours/500/watercolour_sys02_img68_below-the-horizon.jpg" class="card-img-top" style="border-style:solid; border-color:#808080FF; border-width:1px 1px 0 1px; border-radius: .6rem .6rem 0 0 ;"/>
</a>
<div class="card-body justify-content-end m-0 p-0" style="visibility: visible; background-color: #FFFFFFAA; border-style:solid; border-color:#808080FF; border-width:1px; border-radius: 0 0 .6rem .6rem ;">
<a href="https://djnavarro.net/series-water-colours/2000/watercolour_sys02_img68_below-the-horizon.jpg">
<h5 class="card-title my-auto px-3 pt-3 pb-3">Below the Horizon</h5>
</a>
</div>
</div>
</div>
</div>
</div>
<!--------------- appendices ----------------->
<div class="layout-chunk" data-layout="l-body">
<d-appendix style="display: grid;">
<h3 id="last-updated" class="appendix">Last updated</h3>
<div class="l-body">
<p>
<span>2021-09-09 00:12:12 AEST</span>
</p>
</div>
</d-appendix>
<d-appendix style="display: grid;">
<h3 id="details" class="appendix">Details</h3>
<div class="l-body">
<p>
<span>
<a href="https://github.com/djnavarro/distill-blog/tree/master/_posts/2021-09-07_generating-the-water-colours">source code</a>
, 
<a href="https://github.com/djnavarro/distill-blog/tree/master/_posts/2021-09-07_generating-the-water-colours/renv.lock">R environment</a>
</span>
</p>
</div>
</d-appendix>
</div>
<!--------------- miscellanea ----------------->
<div class="layout-chunk" data-layout="l-body">

</div>
<div class="sourceCode" id="cb7"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom">
  <h3 id="updates-and-corrections">Corrections</h3>
  <p>If you see mistakes or want to suggest changes, please <a href="https://github.com/djnavarro/distill-blog/issues/new">create an issue</a> on the source repository.</p>
  <h3 id="reuse">Reuse</h3>
  <p>Text and figures are licensed under Creative Commons Attribution <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>. Source code is available at <a href="https://github.com/djnavarro/distill-blog">https://github.com/djnavarro/distill-blog</a>, unless otherwise noted. The figures that have been reused from other sources don't fall under this license and can be recognized by a note in their caption: "Figure from ...".</p>
  <h3 id="citation">Citation</h3>
  <p>For attribution, please cite this work as</p>
  <pre class="citation-appendix short">Navarro (2021, Sept. 7). Notes from a data witch: Generative art, jasmines, and the water colours series. Retrieved from https://blog.djnavarro.net/generating-the-water-colours</pre>
  <p>BibTeX citation</p>
  <pre class="citation-appendix long">@misc{navarro2021generative,
  author = {Navarro, Danielle},
  title = {Notes from a data witch: Generative art, jasmines, and the water colours series},
  url = {https://blog.djnavarro.net/generating-the-water-colours},
  year = {2021}
}</pre>
</div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
